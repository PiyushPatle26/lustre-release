make  all-recursive
make[1]: Entering directory '/home/lustredev/lustre-release'
Making all in .
make[2]: Entering directory '/home/lustredev/lustre-release'
make sources -C lnet/klnds/in-kernel-o2iblnd || exit $?
make[3]: Entering directory '/home/lustredev/lustre-release/lnet/klnds/in-kernel-o2iblnd'
make[3]: Nothing to be done for 'sources'.
make[3]: Leaving directory '/home/lustredev/lustre-release/lnet/klnds/in-kernel-o2iblnd'
echo "Making modules in top-level tree"; \
make   -C /lib/modules/6.15.3-200.fc42.x86_64/build  M=/home/lustredev/lustre-release "CFLAGS_MODULE=-I/home/lustredev/lustre-release/libcfs/include -I/home/lustredev/lustre-release/lnet/include -I/home/lustredev/lustre-release/lustre/include -I/home/lustredev/lustre-release/include" modules
Making modules in top-level tree
make[3]: Entering directory '/usr/src/kernels/6.15.3-200.fc42.x86_64'
make[4]: Entering directory '/home/lustredev/lustre-release'
  CC [M]  lnet/lnet/api-ni.o
  CC [M]  libcfs/libcfs/linux/linux-prim.o
  CC [M]  lnet/selftest/console.o
  CC [M]  lnet/lnet/config.o
  CC [M]  lustre/mgc/mgc_request.o
  CC [M]  lustre/ec/ec_base.o
  CC [M]  lustre/obdclass/llog.o
  CC [M]  lustre/obdecho/echo_client.o
  CC [M]  lustre/fid/fid_request.o
  CC [M]  lustre/ofd/ofd_dev.o
  CC [M]  lustre/mdt/mdt_handler.o
  CC [M]  lustre/mdd/mdd_acl.o
  CC [M]  lustre/mgs/mgs_handler.o
  CC [M]  lustre/kunit/kinode.o
  CC [M]  lustre/ptlrpc/client.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.o
  CC [M]  lustre/obdclass/llog_cat.o
  CC [M]  libcfs/libcfs/linux/linux-wait.o
  CC [M]  lnet/selftest/conrpc.o
  CC [M]  lustre/obdecho/debug.o
  CC [M]  lnet/klnds/socklnd/socklnd.o
  CC [M]  lnet/klnds/socklnd/socklnd_cb.o
  CC [M]  lustre/mgs/mgs_fs.o
  CC [M]  lnet/lnet/nidstrings.o
  CC [M]  lustre/ptlrpc/recover.o
  CC [M]  lnet/selftest/conctl.o
  CC [M]  lnet/klnds/socklnd/socklnd_lib.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.o
  CC [M]  lnet/klnds/socklnd/socklnd_modparams.o
  CC [M]  lnet/klnds/socklnd/socklnd_proto.o
make[4]: Leaving directory '/home/lustredev/lustre-release'
make[3]: Leaving directory '/usr/src/kernels/6.15.3-200.fc42.x86_64'
make[2]: Leaving directory '/home/lustredev/lustre-release'
make[1]: Leaving directory '/home/lustredev/lustre-release'
ustre/kunit] Error 2
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:22,
                 from lustre/fid/fid_request.c:23:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:24:21: error: redefinition of ‘xa_mk_value’
   24 | static inline void *xa_mk_value(unsigned long v)
      |                     ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lustre/fid/fid_request.c:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:58:21: note: previous definition of ‘xa_mk_value’ with type ‘void *(long unsigned int)’
   58 | static inline void *xa_mk_value(unsigned long v)
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:30:29: error: redefinition of ‘xa_to_value’
   30 | static inline unsigned long xa_to_value(const void *entry)
      |                             ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:71:29: note: previous definition of ‘xa_to_value’ with type ‘long unsigned int(const void *)’
   71 | static inline unsigned long xa_to_value(const void *entry)
      |                             ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:35:20: error: redefinition of ‘xa_is_value’
   35 | static inline bool xa_is_value(const void *entry)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:83:20: note: previous definition of ‘xa_is_value’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
   83 | static inline bool xa_is_value(const void *entry)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:40:21: error: redefinition of ‘xa_tag_pointer’
   40 | static inline void *xa_tag_pointer(void *p, unsigned long tag)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:101:21: note: previous definition of ‘xa_tag_pointer’ with type ‘void *(void *, long unsigned int)’
  101 | static inline void *xa_tag_pointer(void *p, unsigned long tag)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:45:21: error: redefinition of ‘xa_untag_pointer’
   45 | static inline void *xa_untag_pointer(void *entry)
      |                     ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:116:21: note: previous definition of ‘xa_untag_pointer’ with type ‘void *(void *)’
  116 | static inline void *xa_untag_pointer(void *entry)
      |                     ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:50:28: error: redefinition of ‘xa_pointer_tag’
   50 | static inline unsigned int xa_pointer_tag(void *entry)
      |                            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:131:28: note: previous definition of ‘xa_pointer_tag’ with type ‘unsigned int(void *)’
  131 | static inline unsigned int xa_pointer_tag(void *entry)
      |                            ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:55:21: error: redefinition of ‘xa_mk_internal’
   55 | static inline void *xa_mk_internal(unsigned long v)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:149:21: note: previous definition of ‘xa_mk_internal’ with type ‘void *(long unsigned int)’
  149 | static inline void *xa_mk_internal(unsigned long v)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:60:29: error: redefinition of ‘xa_to_internal’
   60 | static inline unsigned long xa_to_internal(const void *entry)
      |                             ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:161:29: note: previous definition of ‘xa_to_internal’ with type ‘long unsigned int(const void *)’
  161 | static inline unsigned long xa_to_internal(const void *entry)
      |                             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:65:20: error: redefinition of ‘xa_is_internal’
   65 | static inline bool xa_is_internal(const void *entry)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:173:20: note: previous definition of ‘xa_is_internal’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  173 | static inline bool xa_is_internal(const void *entry)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:72:20: error: redefinition of ‘xa_is_zero’
   72 | static inline bool xa_is_zero(const void *entry)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:189:20: note: previous definition of ‘xa_is_zero’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  189 | static inline bool xa_is_zero(const void *entry)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:77:20: error: redefinition of ‘xa_is_err’
   77 | static inline bool xa_is_err(const void *entry)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:205:20: note: previous definition of ‘xa_is_err’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  205 | static inline bool xa_is_err(const void *entry)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:83:19: error: redefinition of ‘xa_err’
   83 | static inline int xa_err(void *entry)
      |                   ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:223:19: note: previous definition of ‘xa_err’ with type ‘int(void *)’
  223 | static inline int xa_err(void *entry)
      |                   ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:101:8: error: redefinition of ‘struct xa_limit’
  101 | struct xa_limit {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:243:8: note: originally defined here
  243 | struct xa_limit {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:119:6: error: redeclaration of ‘enum xa_lock_type’
  119 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:262:6: note: originally defined here
  262 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:120:9: error: redeclaration of enumerator ‘XA_LOCK_IRQ’
  120 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:263:9: note: previous definition of ‘XA_LOCK_IRQ’ with type ‘enum xa_lock_type’
  263 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:121:9: error: redeclaration of enumerator ‘XA_LOCK_BH’
  121 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:264:9: note: previous definition of ‘XA_LOCK_BH’ with type ‘enum xa_lock_type’
  264 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:151:8: error: redefinition of ‘struct xarray’
  151 | struct xarray {
      |        ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:300:8: note: originally defined here
  300 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:158:9: warning: ‘XARRAY_INIT’ redefined
  158 | #define XARRAY_INIT(name, flags) {\
      |         ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:307:9: note: this is the location of the previous definition
  307 | #define XARRAY_INIT(name, flags) {                              \
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:184:8: error: redefinition of ‘struct xa_limit’
  184 | struct xa_limit {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:101:8: note: originally defined here
  101 | struct xa_limit {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:202:6: error: redeclaration of ‘enum xa_lock_type’
  202 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:119:6: note: originally defined here
  119 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:203:9: error: redeclaration of enumerator ‘XA_LOCK_IRQ’
  203 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:120:9: note: previous definition of ‘XA_LOCK_IRQ’ with type ‘enum xa_lock_type’
  120 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:204:9: error: redeclaration of enumerator ‘XA_LOCK_BH’
  204 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:121:9: note: previous definition of ‘XA_LOCK_BH’ with type ‘enum xa_lock_type’
  121 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:234:8: error: redefinition of ‘struct xarray’
  234 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:151:8: note: originally defined here
  151 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:254:7: error: conflicting types for ‘xa_load’; have ‘void *(struct xarray *, long unsigned int)’
  254 | void *xa_load(struct xarray *, unsigned long index);
      |       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:355:7: note: previous declaration of ‘xa_load’ with type ‘void *(struct xarray *, long unsigned int)’
  355 | void *xa_load(struct xarray *, unsigned long index);
      |       ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:255:7: error: conflicting types for ‘xa_store’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  255 | void *xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:356:7: note: previous declaration of ‘xa_store’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  356 | void *xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:256:7: error: conflicting types for ‘xa_erase’; have ‘void *(struct xarray *, long unsigned int)’
  256 | void *xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:357:7: note: previous declaration of ‘xa_erase’ with type ‘void *(struct xarray *, long unsigned int)’
  357 | void *xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:257:7: error: conflicting types for ‘xa_store_range’; have ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, unsigned int)’}
  257 | void *xa_store_range(struct xarray *, unsigned long first, unsigned long last,
      |       ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:358:7: note: previous declaration of ‘xa_store_range’ with type ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, unsigned int)’}
  358 | void *xa_store_range(struct xarray *, unsigned long first, unsigned long last,
      |       ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:259:6: error: conflicting types for ‘xa_get_mark’; have ‘bool(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘_Bool(struct xarray *, long unsigned int,  unsigned int)’}
  259 | bool xa_get_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:360:6: note: previous declaration of ‘xa_get_mark’ with type ‘bool(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘_Bool(struct xarray *, long unsigned int,  unsigned int)’}
  360 | bool xa_get_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:260:6: error: conflicting types for ‘xa_set_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  260 | void xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:361:6: note: previous declaration of ‘xa_set_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  361 | void xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:261:6: error: conflicting types for ‘xa_clear_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  261 | void xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:362:6: note: previous declaration of ‘xa_clear_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  362 | void xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:262:7: error: conflicting types for ‘xa_find’; have ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  262 | void *xa_find(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:363:7: note: previous declaration of ‘xa_find’ with type ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  363 | void *xa_find(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:264:7: error: conflicting types for ‘xa_find_after’; have ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  264 | void *xa_find_after(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:365:7: note: previous declaration of ‘xa_find_after’ with type ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  365 | void *xa_find_after(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:266:14: error: conflicting types for ‘xa_extract’; have ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  xa_mark_t)’ {aka ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  unsigned int)’}
  266 | unsigned int xa_extract(struct xarray *, void **dst, unsigned long start,
      |              ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:367:14: note: previous declaration of ‘xa_extract’ with type ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  xa_mark_t)’ {aka ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  unsigned int)’}
  367 | unsigned int xa_extract(struct xarray *, void **dst, unsigned long start,
      |              ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:268:6: error: conflicting types for ‘xa_destroy’; have ‘void(struct xarray *)’
  268 | void xa_destroy(struct xarray *);
      |      ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:369:6: note: previous declaration of ‘xa_destroy’ with type ‘void(struct xarray *)’
  369 | void xa_destroy(struct xarray *);
      |      ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:281:20: error: conflicting types for ‘xa_init_flags’; have ‘void(struct xarray *, gfp_t)’ {aka ‘void(struct xarray *, unsigned int)’}
  281 | static inline void xa_init_flags(struct xarray *xa, gfp_t flags)
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:382:20: note: previous definition of ‘xa_init_flags’ with type ‘void(struct xarray *, gfp_t)’ {aka ‘void(struct xarray *, unsigned int)’}
  382 | static inline void xa_init_flags(struct xarray *xa, gfp_t flags)
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:296:20: error: conflicting types for ‘xa_init’; have ‘void(struct xarray *)’
  296 | static inline void xa_init(struct xarray *xa)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:397:20: note: previous definition of ‘xa_init’ with type ‘void(struct xarray *)’
  397 | static inline void xa_init(struct xarray *xa)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:308:20: error: conflicting types for ‘xa_empty’; have ‘bool(const struct xarray *)’ {aka ‘_Bool(const struct xarray *)’}
  308 | static inline bool xa_empty(const struct xarray *xa)
      |                    ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:409:20: note: previous definition of ‘xa_empty’ with type ‘bool(const struct xarray *)’ {aka ‘_Bool(const struct xarray *)’}
  409 | static inline bool xa_empty(const struct xarray *xa)
      |                    ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:321:20: error: conflicting types for ‘xa_marked’; have ‘bool(const struct xarray *, xa_mark_t)’ {aka ‘_Bool(const struct xarray *, unsigned int)’}
  321 | static inline bool xa_marked(const struct xarray *xa, xa_mark_t mark)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:422:20: note: previous definition of ‘xa_marked’ with type ‘bool(const struct xarray *, xa_mark_t)’ {aka ‘_Bool(const struct xarray *, unsigned int)’}
  422 | static inline bool xa_marked(const struct xarray *xa, xa_mark_t mark)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:349:9: warning: ‘xa_for_each_start’ redefined
  349 | #define xa_for_each_start(xa, index, entry, start)                      \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:480:9: note: this is the location of the previous definition
  480 | #define xa_for_each_start(xa, index, entry, start) \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:426:7: error: conflicting types for ‘__xa_erase’; have ‘void *(struct xarray *, long unsigned int)’
  426 | void *__xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:562:7: note: previous declaration of ‘__xa_erase’ with type ‘void *(struct xarray *, long unsigned int)’
  562 | void *__xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:427:7: error: conflicting types for ‘__xa_store’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  427 | void *__xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:563:7: note: previous declaration of ‘__xa_store’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  563 | void *__xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:428:7: error: conflicting types for ‘__xa_cmpxchg’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  428 | void *__xa_cmpxchg(struct xarray *, unsigned long index, void *old,
      |       ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:564:7: note: previous declaration of ‘__xa_cmpxchg’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  564 | void *__xa_cmpxchg(struct xarray *, unsigned long index, void *old,
      |       ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:430:18: error: conflicting types for ‘__xa_insert’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  430 | int __must_check __xa_insert(struct xarray *, unsigned long index,
      |                  ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:566:18: note: previous declaration of ‘__xa_insert’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  566 | int __must_check __xa_insert(struct xarray *, unsigned long index,
      |                  ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:432:18: error: conflicting types for ‘__xa_alloc’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  432 | int __must_check __xa_alloc(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:568:18: note: previous declaration of ‘__xa_alloc’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  568 | int __must_check __xa_alloc(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:434:18: error: conflicting types for ‘__xa_alloc_cyclic’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  434 | int __must_check __xa_alloc_cyclic(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:570:18: note: previous declaration of ‘__xa_alloc_cyclic’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  570 | int __must_check __xa_alloc_cyclic(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:436:6: error: conflicting types for ‘__xa_set_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  436 | void __xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:572:6: note: previous declaration of ‘__xa_set_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  572 | void __xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:437:6: error: conflicting types for ‘__xa_clear_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  437 | void __xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:573:6: note: previous declaration of ‘__xa_clear_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  573 | void __xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:453:21: error: conflicting types for ‘xa_store_bh’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  453 | static inline void *xa_store_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:589:21: note: previous definition of ‘xa_store_bh’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  589 | static inline void *xa_store_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:479:21: error: conflicting types for ‘xa_store_irq’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  479 | static inline void *xa_store_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:616:21: note: previous definition of ‘xa_store_irq’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  616 | static inline void *xa_store_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:504:21: error: conflicting types for ‘xa_erase_bh’; have ‘void *(struct xarray *, long unsigned int)’
  504 | static inline void *xa_erase_bh(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:642:21: note: previous definition of ‘xa_erase_bh’ with type ‘void *(struct xarray *, long unsigned int)’
  642 | static inline void *xa_erase_bh(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:528:21: error: conflicting types for ‘xa_erase_irq’; have ‘void *(struct xarray *, long unsigned int)’
  528 | static inline void *xa_erase_irq(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:666:21: note: previous definition of ‘xa_erase_irq’ with type ‘void *(struct xarray *, long unsigned int)’
  666 | static inline void *xa_erase_irq(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:554:21: error: conflicting types for ‘xa_cmpxchg’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  554 | static inline void *xa_cmpxchg(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:692:21: note: previous definition of ‘xa_cmpxchg’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  692 | static inline void *xa_cmpxchg(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:581:21: error: conflicting types for ‘xa_cmpxchg_bh’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  581 | static inline void *xa_cmpxchg_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:720:21: note: previous definition of ‘xa_cmpxchg_bh’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  720 | static inline void *xa_cmpxchg_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:608:21: error: conflicting types for ‘xa_cmpxchg_irq’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  608 | static inline void *xa_cmpxchg_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:748:21: note: previous definition of ‘xa_cmpxchg_irq’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  748 | static inline void *xa_cmpxchg_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:637:32: error: conflicting types for ‘xa_insert’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  637 | static inline int __must_check xa_insert(struct xarray *xa,
      |                                ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:778:32: note: previous definition of ‘xa_insert’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  778 | static inline int __must_check xa_insert(struct xarray *xa,
      |                                ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:666:32: error: conflicting types for ‘xa_insert_bh’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  666 | static inline int __must_check xa_insert_bh(struct xarray *xa,
      |                                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:808:32: note: previous definition of ‘xa_insert_bh’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  808 | static inline int __must_check xa_insert_bh(struct xarray *xa,
      |                                ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:695:32: error: conflicting types for ‘xa_insert_irq’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  695 | static inline int __must_check xa_insert_irq(struct xarray *xa,
      |                                ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:838:32: note: previous definition of ‘xa_insert_irq’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  838 | static inline int __must_check xa_insert_irq(struct xarray *xa,
      |                                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:724:32: error: conflicting types for ‘xa_alloc’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  724 | static inline __must_check int xa_alloc(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:871:32: note: previous definition of ‘xa_alloc’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  871 | static inline __must_check int xa_alloc(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:753:32: error: conflicting types for ‘xa_alloc_bh’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  753 | static inline int __must_check xa_alloc_bh(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:904:32: note: previous definition of ‘xa_alloc_bh’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  904 | static inline int __must_check xa_alloc_bh(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:782:32: error: conflicting types for ‘xa_alloc_irq’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  782 | static inline int __must_check xa_alloc_irq(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:937:32: note: previous definition of ‘xa_alloc_irq’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  937 | static inline int __must_check xa_alloc_irq(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:815:19: error: conflicting types for ‘xa_alloc_cyclic’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  815 | static inline int xa_alloc_cyclic(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:974:19: note: previous definition of ‘xa_alloc_cyclic’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  974 | static inline int xa_alloc_cyclic(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:848:19: error: conflicting types for ‘xa_alloc_cyclic_bh’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  848 | static inline int xa_alloc_cyclic_bh(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1011:19: note: previous definition of ‘xa_alloc_cyclic_bh’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
 1011 | static inline int xa_alloc_cyclic_bh(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:881:19: error: conflicting types for ‘xa_alloc_cyclic_irq’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  881 | static inline int xa_alloc_cyclic_irq(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1048:19: note: previous definition of ‘xa_alloc_cyclic_irq’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
 1048 | static inline int xa_alloc_cyclic_irq(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:912:5: error: conflicting types for ‘xa_reserve’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  912 | int xa_reserve(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1080:5: note: previous definition of ‘xa_reserve’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1080 | int xa_reserve(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:930:5: error: conflicting types for ‘xa_reserve_bh’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  930 | int xa_reserve_bh(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1098:5: note: previous definition of ‘xa_reserve_bh’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1098 | int xa_reserve_bh(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:948:5: error: conflicting types for ‘xa_reserve_irq’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  948 | int xa_reserve_irq(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1116:5: note: previous definition of ‘xa_reserve_irq’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1116 | int xa_reserve_irq(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:962:20: error: conflicting types for ‘xa_release’; have ‘void(struct xarray *, long unsigned int)’
  962 | static inline void xa_release(struct xarray *xa, unsigned long index)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1130:20: note: previous definition of ‘xa_release’ with type ‘void(struct xarray *, long unsigned int)’
 1130 | static inline void xa_release(struct xarray *xa, unsigned long index)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:985:9: warning: ‘XA_MARK_LONGS’ redefined
  985 | #define XA_MARK_LONGS           DIV_ROUND_UP(XA_CHUNK_SIZE, BITS_PER_LONG)
      |         ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1153:9: note: this is the location of the previous definition
 1153 | #define XA_MARK_LONGS           BITS_TO_LONGS(XA_CHUNK_SIZE)
      |         ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:994:8: error: redefinition of ‘struct xa_node’
  994 | struct xa_node {
      |        ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1162:8: note: originally defined here
 1162 | struct xa_node {
      |        ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1012:6: error: conflicting types for ‘xa_dump’; have ‘void(const struct xarray *)’
 1012 | void xa_dump(const struct xarray *);
      |      ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1180:6: note: previous declaration of ‘xa_dump’ with type ‘void(const struct xarray *)’
 1180 | void xa_dump(const struct xarray *);
      |      ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1013:6: error: conflicting types for ‘xa_dump_node’; have ‘void(const struct xa_node *)’
 1013 | void xa_dump_node(const struct xa_node *);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1181:6: note: previous declaration of ‘xa_dump_node’ with type ‘void(const struct xa_node *)’
 1181 | void xa_dump_node(const struct xa_node *);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1034:21: error: conflicting types for ‘xa_head’; have ‘void *(const struct xarray *)’
 1034 | static inline void *xa_head(const struct xarray *xa)
      |                     ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1202:21: note: previous definition of ‘xa_head’ with type ‘void *(const struct xarray *)’
 1202 | static inline void *xa_head(const struct xarray *xa)
      |                     ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1041:21: error: conflicting types for ‘xa_head_locked’; have ‘void *(const struct xarray *)’
 1041 | static inline void *xa_head_locked(const struct xarray *xa)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1209:21: note: previous definition of ‘xa_head_locked’ with type ‘void *(const struct xarray *)’
 1209 | static inline void *xa_head_locked(const struct xarray *xa)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1048:21: error: conflicting types for ‘xa_entry’; have ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1048 | static inline void *xa_entry(const struct xarray *xa,
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1216:21: note: previous definition of ‘xa_entry’ with type ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1216 | static inline void *xa_entry(const struct xarray *xa,
      |                     ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1057:21: error: conflicting types for ‘xa_entry_locked’; have ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1057 | static inline void *xa_entry_locked(const struct xarray *xa,
      |                     ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1225:21: note: previous definition of ‘xa_entry_locked’ with type ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1225 | static inline void *xa_entry_locked(const struct xarray *xa,
      |                     ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1066:31: error: conflicting types for ‘xa_parent’; have ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1066 | static inline struct xa_node *xa_parent(const struct xarray *xa,
      |                               ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1234:31: note: previous definition of ‘xa_parent’ with type ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1234 | static inline struct xa_node *xa_parent(const struct xarray *xa,
      |                               ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1074:31: error: conflicting types for ‘xa_parent_locked’; have ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1074 | static inline struct xa_node *xa_parent_locked(const struct xarray *xa,
      |                               ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1242:31: note: previous definition of ‘xa_parent_locked’ with type ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1242 | static inline struct xa_node *xa_parent_locked(const struct xarray *xa,
      |                               ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1082:21: error: conflicting types for ‘xa_mk_node’; have ‘void *(const struct xa_node *)’
 1082 | static inline void *xa_mk_node(const struct xa_node *node)
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1250:21: note: previous definition of ‘xa_mk_node’ with type ‘void *(const struct xa_node *)’
 1250 | static inline void *xa_mk_node(const struct xa_node *node)
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1088:31: error: conflicting types for ‘xa_to_node’; have ‘struct xa_node *(const void *)’
 1088 | static inline struct xa_node *xa_to_node(const void *entry)
      |                               ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1256:31: note: previous definition of ‘xa_to_node’ with type ‘struct xa_node *(const void *)’
 1256 | static inline struct xa_node *xa_to_node(const void *entry)
      |                               ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1094:20: error: redefinition of ‘xa_is_node’
 1094 | static inline bool xa_is_node(const void *entry)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1262:20: note: previous definition of ‘xa_is_node’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1262 | static inline bool xa_is_node(const void *entry)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1100:21: error: redefinition of ‘xa_mk_sibling’
 1100 | static inline void *xa_mk_sibling(unsigned int offset)
      |                     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1268:21: note: previous definition of ‘xa_mk_sibling’ with type ‘void *(unsigned int)’
 1268 | static inline void *xa_mk_sibling(unsigned int offset)
      |                     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1106:29: error: redefinition of ‘xa_to_sibling’
 1106 | static inline unsigned long xa_to_sibling(const void *entry)
      |                             ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1274:29: note: previous definition of ‘xa_to_sibling’ with type ‘long unsigned int(const void *)’
 1274 | static inline unsigned long xa_to_sibling(const void *entry)
      |                             ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1117:20: error: redefinition of ‘xa_is_sibling’
 1117 | static inline bool xa_is_sibling(const void *entry)
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1285:20: note: previous definition of ‘xa_is_sibling’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1285 | static inline bool xa_is_sibling(const void *entry)
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1131:20: error: redefinition of ‘xa_is_retry’
 1131 | static inline bool xa_is_retry(const void *entry)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1299:20: note: previous definition of ‘xa_is_retry’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1299 | static inline bool xa_is_retry(const void *entry)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1142:20: error: redefinition of ‘xa_is_advanced’
 1142 | static inline bool xa_is_advanced(const void *entry)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1310:20: note: previous definition of ‘xa_is_advanced’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1310 | static inline bool xa_is_advanced(const void *entry)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1159:16: error: conflicting types for ‘xa_update_node_t’; have ‘void (*)(struct xa_node *)’
 1159 | typedef void (*xa_update_node_t)(struct xa_node *node);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1327:16: note: previous declaration of ‘xa_update_node_t’ with type ‘xa_update_node_t’ {aka ‘void (*)(struct xa_node *)’}
 1327 | typedef void (*xa_update_node_t)(struct xa_node *node);
      |                ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1178:8: error: redefinition of ‘struct xa_state’
 1178 | struct xa_state {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1348:8: note: originally defined here
 1348 | struct xa_state {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1198:9: warning: ‘__XA_STATE’ redefined
 1198 | #define __XA_STATE(array, index, shift, sibs)  {        \
      |         ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1369:9: note: this is the location of the previous definition
 1369 | #define __XA_STATE(array, index, shift, sibs)  {        \
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1257:19: error: conflicting types for ‘xas_error’; have ‘int(const struct xa_state *)’
 1257 | static inline int xas_error(const struct xa_state *xas)
      |                   ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1429:19: note: previous definition of ‘xas_error’ with type ‘int(const struct xa_state *)’
 1429 | static inline int xas_error(const struct xa_state *xas)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1271:20: error: conflicting types for ‘xas_set_err’; have ‘void(struct xa_state *, long int)’
 1271 | static inline void xas_set_err(struct xa_state *xas, long err)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1443:20: note: previous definition of ‘xas_set_err’ with type ‘void(struct xa_state *, long int)’
 1443 | static inline void xas_set_err(struct xa_state *xas, long err)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1282:20: error: conflicting types for ‘xas_invalid’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1282 | static inline bool xas_invalid(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1454:20: note: previous definition of ‘xas_invalid’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1454 | static inline bool xas_invalid(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1293:20: error: conflicting types for ‘xas_valid’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1293 | static inline bool xas_valid(const struct xa_state *xas)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1465:20: note: previous definition of ‘xas_valid’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1465 | static inline bool xas_valid(const struct xa_state *xas)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1304:20: error: conflicting types for ‘xas_is_node’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1304 | static inline bool xas_is_node(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1476:20: note: previous definition of ‘xas_is_node’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1476 | static inline bool xas_is_node(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1310:20: error: conflicting types for ‘xas_not_node’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1310 | static inline bool xas_not_node(struct xa_node *node)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1482:20: note: previous definition of ‘xas_not_node’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1482 | static inline bool xas_not_node(struct xa_node *node)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1316:20: error: conflicting types for ‘xas_frozen’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1316 | static inline bool xas_frozen(struct xa_node *node)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1488:20: note: previous definition of ‘xas_frozen’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1488 | static inline bool xas_frozen(struct xa_node *node)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1322:20: error: conflicting types for ‘xas_top’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1322 | static inline bool xas_top(struct xa_node *node)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1494:20: note: previous definition of ‘xas_top’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1494 | static inline bool xas_top(struct xa_node *node)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1337:20: error: conflicting types for ‘xas_reset’; have ‘void(struct xa_state *)’
 1337 | static inline void xas_reset(struct xa_state *xas)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1509:20: note: previous definition of ‘xas_reset’ with type ‘void(struct xa_state *)’
 1509 | static inline void xas_reset(struct xa_state *xas)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1354:20: error: conflicting types for ‘xas_retry’; have ‘bool(struct xa_state *, const void *)’ {aka ‘_Bool(struct xa_state *, const void *)’}
 1354 | static inline bool xas_retry(struct xa_state *xas, const void *entry)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1526:20: note: previous definition of ‘xas_retry’ with type ‘bool(struct xa_state *, const void *)’ {aka ‘_Bool(struct xa_state *, const void *)’}
 1526 | static inline bool xas_retry(struct xa_state *xas, const void *entry)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1364:7: error: conflicting types for ‘xas_load’; have ‘void *(struct xa_state *)’
 1364 | void *xas_load(struct xa_state *);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1536:7: note: previous declaration of ‘xas_load’ with type ‘void *(struct xa_state *)’
 1536 | void *xas_load(struct xa_state *);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1365:7: error: conflicting types for ‘xas_store’; have ‘void *(struct xa_state *, void *)’
 1365 | void *xas_store(struct xa_state *, void *entry);
      |       ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1537:7: note: previous declaration of ‘xas_store’ with type ‘void *(struct xa_state *, void *)’
 1537 | void *xas_store(struct xa_state *, void *entry);
      |       ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1366:7: error: conflicting types for ‘xas_find’; have ‘void *(struct xa_state *, long unsigned int)’
 1366 | void *xas_find(struct xa_state *, unsigned long max);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1538:7: note: previous declaration of ‘xas_find’ with type ‘void *(struct xa_state *, long unsigned int)’
 1538 | void *xas_find(struct xa_state *, unsigned long max);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1367:7: error: conflicting types for ‘xas_find_conflict’; have ‘void *(struct xa_state *)’
 1367 | void *xas_find_conflict(struct xa_state *);
      |       ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1539:7: note: previous declaration of ‘xas_find_conflict’ with type ‘void *(struct xa_state *)’
 1539 | void *xas_find_conflict(struct xa_state *);
      |       ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1369:6: error: conflicting types for ‘xas_get_mark’; have ‘bool(const struct xa_state *, xa_mark_t)’ {aka ‘_Bool(const struct xa_state *, unsigned int)’}
 1369 | bool xas_get_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1541:6: note: previous declaration of ‘xas_get_mark’ with type ‘bool(const struct xa_state *, xa_mark_t)’ {aka ‘_Bool(const struct xa_state *, unsigned int)’}
 1541 | bool xas_get_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1370:6: error: conflicting types for ‘xas_set_mark’; have ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1370 | void xas_set_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1542:6: note: previous declaration of ‘xas_set_mark’ with type ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1542 | void xas_set_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1371:6: error: conflicting types for ‘xas_clear_mark’; have ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1371 | void xas_clear_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1543:6: note: previous declaration of ‘xas_clear_mark’ with type ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1543 | void xas_clear_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1372:7: error: conflicting types for ‘xas_find_marked’; have ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1372 | void *xas_find_marked(struct xa_state *, unsigned long max, xa_mark_t);
      |       ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1544:7: note: previous declaration of ‘xas_find_marked’ with type ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1544 | void *xas_find_marked(struct xa_state *, unsigned long max, xa_mark_t);
      |       ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1373:6: error: conflicting types for ‘xas_init_marks’; have ‘void(const struct xa_state *)’
 1373 | void xas_init_marks(const struct xa_state *);
      |      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1545:6: note: previous declaration of ‘xas_init_marks’ with type ‘void(const struct xa_state *)’
 1545 | void xas_init_marks(const struct xa_state *);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1375:6: error: conflicting types for ‘xas_nomem’; have ‘bool(struct xa_state *, gfp_t)’ {aka ‘_Bool(struct xa_state *, unsigned int)’}
 1375 | bool xas_nomem(struct xa_state *, gfp_t);
      |      ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1547:6: note: previous declaration of ‘xas_nomem’ with type ‘bool(struct xa_state *, gfp_t)’ {aka ‘_Bool(struct xa_state *, unsigned int)’}
 1547 | bool xas_nomem(struct xa_state *, gfp_t);
      |      ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1376:6: error: conflicting types for ‘xas_pause’; have ‘void(struct xa_state *)’
 1376 | void xas_pause(struct xa_state *);
      |      ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1549:6: note: previous declaration of ‘xas_pause’ with type ‘void(struct xa_state *)’
 1549 | void xas_pause(struct xa_state *);
      |      ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1378:6: error: conflicting types for ‘xas_create_range’; have ‘void(struct xa_state *)’
 1378 | void xas_create_range(struct xa_state *);
      |      ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1551:6: note: previous declaration of ‘xas_create_range’ with type ‘void(struct xa_state *)’
 1551 | void xas_create_range(struct xa_state *);
      |      ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1394:21: error: conflicting types for ‘xas_reload’; have ‘void *(struct xa_state *)’
 1394 | static inline void *xas_reload(struct xa_state *xas)
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1608:21: note: previous definition of ‘xas_reload’ with type ‘void *(struct xa_state *)’
 1608 | static inline void *xas_reload(struct xa_state *xas)
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1412:20: error: conflicting types for ‘xas_set’; have ‘void(struct xa_state *, long unsigned int)’
 1412 | static inline void xas_set(struct xa_state *xas, unsigned long index)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1637:20: note: previous definition of ‘xas_set’ with type ‘void(struct xa_state *, long unsigned int)’
 1637 | static inline void xas_set(struct xa_state *xas, unsigned long index)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1424:20: error: conflicting types for ‘xas_set_order’; have ‘void(struct xa_state *, long unsigned int,  unsigned int)’
 1424 | static inline void xas_set_order(struct xa_state *xas, unsigned long index,
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1667:20: note: previous definition of ‘xas_set_order’ with type ‘void(struct xa_state *, long unsigned int,  unsigned int)’
 1667 | static inline void xas_set_order(struct xa_state *xas, unsigned long index,
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1446:20: error: conflicting types for ‘xas_set_update’; have ‘void(struct xa_state *, void (*)(struct xa_node *))’
 1446 | static inline void xas_set_update(struct xa_state *xas, xa_update_node_t update)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1690:20: note: previous definition of ‘xas_set_update’ with type ‘void(struct xa_state *, void (*)(struct xa_node *))’
 1690 | static inline void xas_set_update(struct xa_state *xas, xa_update_node_t update)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1462:21: error: conflicting types for ‘xas_next_entry’; have ‘void *(struct xa_state *, long unsigned int)’
 1462 | static inline void *xas_next_entry(struct xa_state *xas, unsigned long max)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1711:21: note: previous definition of ‘xas_next_entry’ with type ‘void *(struct xa_state *, long unsigned int)’
 1711 | static inline void *xas_next_entry(struct xa_state *xas, unsigned long max)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1487:28: error: conflicting types for ‘xas_find_chunk’; have ‘unsigned int(struct xa_state *, bool,  xa_mark_t)’ {aka ‘unsigned int(struct xa_state *, _Bool,  unsigned int)’}
 1487 | static inline unsigned int xas_find_chunk(struct xa_state *xas, bool advance,
      |                            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1736:28: note: previous definition of ‘xas_find_chunk’ with type ‘unsigned int(struct xa_state *, bool,  xa_mark_t)’ {aka ‘unsigned int(struct xa_state *, _Bool,  unsigned int)’}
 1736 | static inline unsigned int xas_find_chunk(struct xa_state *xas, bool advance,
      |                            ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1519:21: error: conflicting types for ‘xas_next_marked’; have ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1519 | static inline void *xas_next_marked(struct xa_state *xas, unsigned long max,
      |                     ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1768:21: note: previous definition of ‘xas_next_marked’ with type ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1768 | static inline void *xas_next_marked(struct xa_state *xas, unsigned long max,
      |                     ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1542:9: error: redeclaration of enumerator ‘XA_CHECK_SCHED’
 1542 |         XA_CHECK_SCHED = 4096,
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1795:9: note: previous definition of ‘XA_CHECK_SCHED’ with type ‘enum <anonymous>’
 1795 |         XA_CHECK_SCHED = 4096,
      |         ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1596:7: error: conflicting types for ‘__xas_next’; have ‘void *(struct xa_state *)’
 1596 | void *__xas_next(struct xa_state *);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1848:7: note: previous declaration of ‘__xas_next’ with type ‘void *(struct xa_state *)’
 1848 | void *__xas_next(struct xa_state *);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1597:7: error: conflicting types for ‘__xas_prev’; have ‘void *(struct xa_state *)’
 1597 | void *__xas_prev(struct xa_state *);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1849:7: note: previous declaration of ‘__xas_prev’ with type ‘void *(struct xa_state *)’
 1849 | void *__xas_prev(struct xa_state *);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1615:21: error: conflicting types for ‘xas_prev’; have ‘void *(struct xa_state *)’
 1615 | static inline void *xas_prev(struct xa_state *xas)
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1867:21: note: previous definition of ‘xas_prev’ with type ‘void *(struct xa_state *)’
 1867 | static inline void *xas_prev(struct xa_state *xas)
      |                     ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1644:21: error: conflicting types for ‘xas_next’; have ‘void *(struct xa_state *)’
 1644 | static inline void *xas_next(struct xa_state *xas)
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1896:21: note: previous definition of ‘xas_next’ with type ‘void *(struct xa_state *)’
 1896 | static inline void *xas_next(struct xa_state *xas)
      |                     ^~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:24:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/fid/fid_request.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/fid] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/ofd/ofd_dev.c:51:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/ec/ec_base.c:33:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/obdecho/echo_client.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/llog_swab.h:32,
                 from lustre/obdclass/llog.c:28:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/smp.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/lockdep.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mutex.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdclass/llog.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lnet/selftest/console.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/dt_object.h:28,
                 from lustre/mdt/mdt_handler.c:29:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lustre/mdt/mdt_handler.c:26:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from lustre/ec/ec_base.c:32:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:5,
                 from lustre/obdecho/echo_client.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:29,
                 from lustre/mgc/mgc_request.c:22:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lustre/mgc/mgc_request.c:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/workqueue.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/mgs/mgs_handler.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/smp.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/lockdep.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mutex.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:31,
                 from libcfs/libcfs/linux/linux-prim.c:31:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from libcfs/libcfs/linux/linux-prim.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from lnet/lnet/api-ni.c:24:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:11:27: error: conflicting types for ‘netdev_cmd_to_name’; have ‘const char *(long unsigned int)’
   11 | static inline const char *netdev_cmd_to_name(unsigned long cmd)
      |                           ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:3150:13: note: previous declaration of ‘netdev_cmd_to_name’ with type ‘const char *(enum netdev_cmd)’
 3150 | const char *netdev_cmd_to_name(enum netdev_cmd cmd);
      |             ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/include/lustre_compat/linux/shrinker.h:9,
                 from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:61:9: warning: ‘NL_SET_BAD_ATTR’ redefined
   61 | #define NL_SET_BAD_ATTR(extack, attr)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:6,
                 from lnet/lnet/api-ni.c:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:150:9: note: this is the location of the previous definition
  150 | #define NL_SET_BAD_ATTR(extack, attr) NL_SET_BAD_ATTR_POLICY(extack, attr, NULL)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:74:8: error: redefinition of ‘struct netlink_ext_ack’
   74 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:82:8: note: originally defined here
   82 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:81:9: warning: ‘GENL_SET_ERR_MSG’ redefined
   81 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG(NULL, msg)
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:161:9: note: this is the location of the previous definition
  161 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG((info)->extack, msg)
      |         ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:88:16: error: too few arguments to function ‘nla_parse’; expected 6, have 5
   88 |         return nla_parse(tb, maxtype, head, len, policy);
      |                ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:682:19: note: declared here
  682 | static inline int nla_parse(struct nlattr **tb, int maxtype,
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse_nested’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:96:16: error: too few arguments to function ‘nla_parse_nested’; expected 5, have 4
   96 |         return nla_parse_nested(tb, maxtype, nla, policy);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:1314:19: note: declared here
 1314 | static inline int nla_parse_nested(struct nlattr *tb[], int maxtype,
      |                   ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from /home/lustredev/lustre-release/lnet/include/lnet/udsp.h:18,
                 from lnet/lnet/api-ni.c:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/net.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/net.h:27,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from lnet/lnet/api-ni.c:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:22,
                 from lustre/obdecho/echo_client.c:20:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:24:21: error: redefinition of ‘xa_mk_value’
   24 | static inline void *xa_mk_value(unsigned long v)
      |                     ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:58:21: note: previous definition of ‘xa_mk_value’ with type ‘void *(long unsigned int)’
   58 | static inline void *xa_mk_value(unsigned long v)
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:30:29: error: redefinition of ‘xa_to_value’
   30 | static inline unsigned long xa_to_value(const void *entry)
      |                             ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:71:29: note: previous definition of ‘xa_to_value’ with type ‘long unsigned int(const void *)’
   71 | static inline unsigned long xa_to_value(const void *entry)
      |                             ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:35:20: error: redefinition of ‘xa_is_value’
   35 | static inline bool xa_is_value(const void *entry)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:83:20: note: previous definition of ‘xa_is_value’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
   83 | static inline bool xa_is_value(const void *entry)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:40:21: error: redefinition of ‘xa_tag_pointer’
   40 | static inline void *xa_tag_pointer(void *p, unsigned long tag)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:101:21: note: previous definition of ‘xa_tag_pointer’ with type ‘void *(void *, long unsigned int)’
  101 | static inline void *xa_tag_pointer(void *p, unsigned long tag)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:45:21: error: redefinition of ‘xa_untag_pointer’
   45 | static inline void *xa_untag_pointer(void *entry)
      |                     ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:116:21: note: previous definition of ‘xa_untag_pointer’ with type ‘void *(void *)’
  116 | static inline void *xa_untag_pointer(void *entry)
      |                     ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:50:28: error: redefinition of ‘xa_pointer_tag’
   50 | static inline unsigned int xa_pointer_tag(void *entry)
      |                            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:131:28: note: previous definition of ‘xa_pointer_tag’ with type ‘unsigned int(void *)’
  131 | static inline unsigned int xa_pointer_tag(void *entry)
      |                            ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:55:21: error: redefinition of ‘xa_mk_internal’
   55 | static inline void *xa_mk_internal(unsigned long v)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:149:21: note: previous definition of ‘xa_mk_internal’ with type ‘void *(long unsigned int)’
  149 | static inline void *xa_mk_internal(unsigned long v)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:60:29: error: redefinition of ‘xa_to_internal’
   60 | static inline unsigned long xa_to_internal(const void *entry)
      |                             ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:161:29: note: previous definition of ‘xa_to_internal’ with type ‘long unsigned int(const void *)’
  161 | static inline unsigned long xa_to_internal(const void *entry)
      |                             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:65:20: error: redefinition of ‘xa_is_internal’
   65 | static inline bool xa_is_internal(const void *entry)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:173:20: note: previous definition of ‘xa_is_internal’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  173 | static inline bool xa_is_internal(const void *entry)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:72:20: error: redefinition of ‘xa_is_zero’
   72 | static inline bool xa_is_zero(const void *entry)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:189:20: note: previous definition of ‘xa_is_zero’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  189 | static inline bool xa_is_zero(const void *entry)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:77:20: error: redefinition of ‘xa_is_err’
   77 | static inline bool xa_is_err(const void *entry)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:205:20: note: previous definition of ‘xa_is_err’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  205 | static inline bool xa_is_err(const void *entry)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:83:19: error: redefinition of ‘xa_err’
   83 | static inline int xa_err(void *entry)
      |                   ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:223:19: note: previous definition of ‘xa_err’ with type ‘int(void *)’
  223 | static inline int xa_err(void *entry)
      |                   ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:101:8: error: redefinition of ‘struct xa_limit’
  101 | struct xa_limit {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:243:8: note: originally defined here
  243 | struct xa_limit {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:119:6: error: redeclaration of ‘enum xa_lock_type’
  119 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:262:6: note: originally defined here
  262 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:120:9: error: redeclaration of enumerator ‘XA_LOCK_IRQ’
  120 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:263:9: note: previous definition of ‘XA_LOCK_IRQ’ with type ‘enum xa_lock_type’
  263 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:121:9: error: redeclaration of enumerator ‘XA_LOCK_BH’
  121 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:264:9: note: previous definition of ‘XA_LOCK_BH’ with type ‘enum xa_lock_type’
  264 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:151:8: error: redefinition of ‘struct xarray’
  151 | struct xarray {
      |        ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:300:8: note: originally defined here
  300 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:158:9: warning: ‘XARRAY_INIT’ redefined
  158 | #define XARRAY_INIT(name, flags) {\
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:307:9: note: this is the location of the previous definition
  307 | #define XARRAY_INIT(name, flags) {                              \
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:184:8: error: redefinition of ‘struct xa_limit’
  184 | struct xa_limit {
      |        ^~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:101:8: note: originally defined here
  101 | struct xa_limit {
      |        ^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:202:6: error: redeclaration of ‘enum xa_lock_type’
  202 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:119:6: note: originally defined here
  119 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:203:9: error: redeclaration of enumerator ‘XA_LOCK_IRQ’
  203 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:120:9: note: previous definition of ‘XA_LOCK_IRQ’ with type ‘enum xa_lock_type’
  120 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:204:9: error: redeclaration of enumerator ‘XA_LOCK_BH’
  204 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:121:9: note: previous definition of ‘XA_LOCK_BH’ with type ‘enum xa_lock_type’
  121 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:234:8: error: redefinition of ‘struct xarray’
  234 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:151:8: note: originally defined here
  151 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:254:7: error: conflicting types for ‘xa_load’; have ‘void *(struct xarray *, long unsigned int)’
  254 | void *xa_load(struct xarray *, unsigned long index);
      |       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:355:7: note: previous declaration of ‘xa_load’ with type ‘void *(struct xarray *, long unsigned int)’
  355 | void *xa_load(struct xarray *, unsigned long index);
      |       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:255:7: error: conflicting types for ‘xa_store’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  255 | void *xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:356:7: note: previous declaration of ‘xa_store’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  356 | void *xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:256:7: error: conflicting types for ‘xa_erase’; have ‘void *(struct xarray *, long unsigned int)’
  256 | void *xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:357:7: note: previous declaration of ‘xa_erase’ with type ‘void *(struct xarray *, long unsigned int)’
  357 | void *xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:257:7: error: conflicting types for ‘xa_store_range’; have ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, unsigned int)’}
  257 | void *xa_store_range(struct xarray *, unsigned long first, unsigned long last,
      |       ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:358:7: note: previous declaration of ‘xa_store_range’ with type ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, unsigned int)’}
  358 | void *xa_store_range(struct xarray *, unsigned long first, unsigned long last,
      |       ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:259:6: error: conflicting types for ‘xa_get_mark’; have ‘bool(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘_Bool(struct xarray *, long unsigned int,  unsigned int)’}
  259 | bool xa_get_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:360:6: note: previous declaration of ‘xa_get_mark’ with type ‘bool(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘_Bool(struct xarray *, long unsigned int,  unsigned int)’}
  360 | bool xa_get_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:260:6: error: conflicting types for ‘xa_set_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  260 | void xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:361:6: note: previous declaration of ‘xa_set_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  361 | void xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:261:6: error: conflicting types for ‘xa_clear_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  261 | void xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:362:6: note: previous declaration of ‘xa_clear_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  362 | void xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:262:7: error: conflicting types for ‘xa_find’; have ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  262 | void *xa_find(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:363:7: note: previous declaration of ‘xa_find’ with type ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  363 | void *xa_find(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:264:7: error: conflicting types for ‘xa_find_after’; have ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  264 | void *xa_find_after(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:365:7: note: previous declaration of ‘xa_find_after’ with type ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  365 | void *xa_find_after(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:266:14: error: conflicting types for ‘xa_extract’; have ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  xa_mark_t)’ {aka ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  unsigned int)’}
  266 | unsigned int xa_extract(struct xarray *, void **dst, unsigned long start,
      |              ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:367:14: note: previous declaration of ‘xa_extract’ with type ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  xa_mark_t)’ {aka ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  unsigned int)’}
  367 | unsigned int xa_extract(struct xarray *, void **dst, unsigned long start,
      |              ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:268:6: error: conflicting types for ‘xa_destroy’; have ‘void(struct xarray *)’
  268 | void xa_destroy(struct xarray *);
      |      ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:369:6: note: previous declaration of ‘xa_destroy’ with type ‘void(struct xarray *)’
  369 | void xa_destroy(struct xarray *);
      |      ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:281:20: error: conflicting types for ‘xa_init_flags’; have ‘void(struct xarray *, gfp_t)’ {aka ‘void(struct xarray *, unsigned int)’}
  281 | static inline void xa_init_flags(struct xarray *xa, gfp_t flags)
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:382:20: note: previous definition of ‘xa_init_flags’ with type ‘void(struct xarray *, gfp_t)’ {aka ‘void(struct xarray *, unsigned int)’}
  382 | static inline void xa_init_flags(struct xarray *xa, gfp_t flags)
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:296:20: error: conflicting types for ‘xa_init’; have ‘void(struct xarray *)’
  296 | static inline void xa_init(struct xarray *xa)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:397:20: note: previous definition of ‘xa_init’ with type ‘void(struct xarray *)’
  397 | static inline void xa_init(struct xarray *xa)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:308:20: error: conflicting types for ‘xa_empty’; have ‘bool(const struct xarray *)’ {aka ‘_Bool(const struct xarray *)’}
  308 | static inline bool xa_empty(const struct xarray *xa)
      |                    ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:409:20: note: previous definition of ‘xa_empty’ with type ‘bool(const struct xarray *)’ {aka ‘_Bool(const struct xarray *)’}
  409 | static inline bool xa_empty(const struct xarray *xa)
      |                    ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:321:20: error: conflicting types for ‘xa_marked’; have ‘bool(const struct xarray *, xa_mark_t)’ {aka ‘_Bool(const struct xarray *, unsigned int)’}
  321 | static inline bool xa_marked(const struct xarray *xa, xa_mark_t mark)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:422:20: note: previous definition of ‘xa_marked’ with type ‘bool(const struct xarray *, xa_mark_t)’ {aka ‘_Bool(const struct xarray *, unsigned int)’}
  422 | static inline bool xa_marked(const struct xarray *xa, xa_mark_t mark)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:349:9: warning: ‘xa_for_each_start’ redefined
  349 | #define xa_for_each_start(xa, index, entry, start)                      \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:480:9: note: this is the location of the previous definition
  480 | #define xa_for_each_start(xa, index, entry, start) \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:426:7: error: conflicting types for ‘__xa_erase’; have ‘void *(struct xarray *, long unsigned int)’
  426 | void *__xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:562:7: note: previous declaration of ‘__xa_erase’ with type ‘void *(struct xarray *, long unsigned int)’
  562 | void *__xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:427:7: error: conflicting types for ‘__xa_store’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  427 | void *__xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:563:7: note: previous declaration of ‘__xa_store’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  563 | void *__xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~~~
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:428:7: error: conflicting types for ‘__xa_cmpxchg’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  428 | void *__xa_cmpxchg(struct xarray *, unsigned long index, void *old,
      |       ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:564:7: note: previous declaration of ‘__xa_cmpxchg’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  564 | void *__xa_cmpxchg(struct xarray *, unsigned long index, void *old,
      |       ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:430:18: error: conflicting types for ‘__xa_insert’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  430 | int __must_check __xa_insert(struct xarray *, unsigned long index,
      |                  ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:566:18: note: previous declaration of ‘__xa_insert’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  566 | int __must_check __xa_insert(struct xarray *, unsigned long index,
      |                  ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:432:18: error: conflicting types for ‘__xa_alloc’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  432 | int __must_check __xa_alloc(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:568:18: note: previous declaration of ‘__xa_alloc’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  568 | int __must_check __xa_alloc(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:434:18: error: conflicting types for ‘__xa_alloc_cyclic’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  434 | int __must_check __xa_alloc_cyclic(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:570:18: note: previous declaration of ‘__xa_alloc_cyclic’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  570 | int __must_check __xa_alloc_cyclic(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:436:6: error: conflicting types for ‘__xa_set_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  436 | void __xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:572:6: note: previous declaration of ‘__xa_set_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  572 | void __xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:437:6: error: conflicting types for ‘__xa_clear_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  437 | void __xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:573:6: note: previous declaration of ‘__xa_clear_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  573 | void __xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:453:21: error: conflicting types for ‘xa_store_bh’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  453 | static inline void *xa_store_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:589:21: note: previous definition of ‘xa_store_bh’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  589 | static inline void *xa_store_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:479:21: error: conflicting types for ‘xa_store_irq’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  479 | static inline void *xa_store_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:616:21: note: previous definition of ‘xa_store_irq’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  616 | static inline void *xa_store_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:504:21: error: conflicting types for ‘xa_erase_bh’; have ‘void *(struct xarray *, long unsigned int)’
  504 | static inline void *xa_erase_bh(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:642:21: note: previous definition of ‘xa_erase_bh’ with type ‘void *(struct xarray *, long unsigned int)’
  642 | static inline void *xa_erase_bh(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:528:21: error: conflicting types for ‘xa_erase_irq’; have ‘void *(struct xarray *, long unsigned int)’
  528 | static inline void *xa_erase_irq(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:666:21: note: previous definition of ‘xa_erase_irq’ with type ‘void *(struct xarray *, long unsigned int)’
  666 | static inline void *xa_erase_irq(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:554:21: error: conflicting types for ‘xa_cmpxchg’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  554 | static inline void *xa_cmpxchg(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:692:21: note: previous definition of ‘xa_cmpxchg’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  692 | static inline void *xa_cmpxchg(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:581:21: error: conflicting types for ‘xa_cmpxchg_bh’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  581 | static inline void *xa_cmpxchg_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:720:21: note: previous definition of ‘xa_cmpxchg_bh’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  720 | static inline void *xa_cmpxchg_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:608:21: error: conflicting types for ‘xa_cmpxchg_irq’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  608 | static inline void *xa_cmpxchg_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:748:21: note: previous definition of ‘xa_cmpxchg_irq’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  748 | static inline void *xa_cmpxchg_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:637:32: error: conflicting types for ‘xa_insert’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  637 | static inline int __must_check xa_insert(struct xarray *xa,
      |                                ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:778:32: note: previous definition of ‘xa_insert’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  778 | static inline int __must_check xa_insert(struct xarray *xa,
      |                                ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:666:32: error: conflicting types for ‘xa_insert_bh’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  666 | static inline int __must_check xa_insert_bh(struct xarray *xa,
      |                                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:808:32: note: previous definition of ‘xa_insert_bh’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  808 | static inline int __must_check xa_insert_bh(struct xarray *xa,
      |                                ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:695:32: error: conflicting types for ‘xa_insert_irq’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  695 | static inline int __must_check xa_insert_irq(struct xarray *xa,
      |                                ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:838:32: note: previous definition of ‘xa_insert_irq’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  838 | static inline int __must_check xa_insert_irq(struct xarray *xa,
      |                                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:724:32: error: conflicting types for ‘xa_alloc’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  724 | static inline __must_check int xa_alloc(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:871:32: note: previous definition of ‘xa_alloc’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  871 | static inline __must_check int xa_alloc(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:753:32: error: conflicting types for ‘xa_alloc_bh’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  753 | static inline int __must_check xa_alloc_bh(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:904:32: note: previous definition of ‘xa_alloc_bh’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  904 | static inline int __must_check xa_alloc_bh(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:782:32: error: conflicting types for ‘xa_alloc_irq’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  782 | static inline int __must_check xa_alloc_irq(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:937:32: note: previous definition of ‘xa_alloc_irq’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  937 | static inline int __must_check xa_alloc_irq(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:815:19: error: conflicting types for ‘xa_alloc_cyclic’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  815 | static inline int xa_alloc_cyclic(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/lnet/config.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17,
                 from lnet/lnet/config.c:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device/driver.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device.h:32,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/dma-mapping.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/if_ether.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:974:19: note: previous definition of ‘xa_alloc_cyclic’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  974 | static inline int xa_alloc_cyclic(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:848:19: error: conflicting types for ‘xa_alloc_cyclic_bh’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  848 | static inline int xa_alloc_cyclic_bh(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1011:19: note: previous definition of ‘xa_alloc_cyclic_bh’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
 1011 | static inline int xa_alloc_cyclic_bh(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:881:19: error: conflicting types for ‘xa_alloc_cyclic_irq’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  881 | static inline int xa_alloc_cyclic_irq(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1048:19: note: previous definition of ‘xa_alloc_cyclic_irq’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
 1048 | static inline int xa_alloc_cyclic_irq(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:912:5: error: conflicting types for ‘xa_reserve’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  912 | int xa_reserve(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1080:5: note: previous definition of ‘xa_reserve’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1080 | int xa_reserve(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:930:5: error: conflicting types for ‘xa_reserve_bh’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  930 | int xa_reserve_bh(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1098:5: note: previous definition of ‘xa_reserve_bh’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1098 | int xa_reserve_bh(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:948:5: error: conflicting types for ‘xa_reserve_irq’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  948 | int xa_reserve_irq(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1116:5: note: previous definition of ‘xa_reserve_irq’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1116 | int xa_reserve_irq(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:962:20: error: conflicting types for ‘xa_release’; have ‘void(struct xarray *, long unsigned int)’
  962 | static inline void xa_release(struct xarray *xa, unsigned long index)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1130:20: note: previous definition of ‘xa_release’ with type ‘void(struct xarray *, long unsigned int)’
 1130 | static inline void xa_release(struct xarray *xa, unsigned long index)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:985:9: warning: ‘XA_MARK_LONGS’ redefined
  985 | #define XA_MARK_LONGS           DIV_ROUND_UP(XA_CHUNK_SIZE, BITS_PER_LONG)
      |         ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1153:9: note: this is the location of the previous definition
 1153 | #define XA_MARK_LONGS           BITS_TO_LONGS(XA_CHUNK_SIZE)
      |         ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:994:8: error: redefinition of ‘struct xa_node’
  994 | struct xa_node {
      |        ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1162:8: note: originally defined here
 1162 | struct xa_node {
      |        ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1012:6: error: conflicting types for ‘xa_dump’; have ‘void(const struct xarray *)’
 1012 | void xa_dump(const struct xarray *);
      |      ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1180:6: note: previous declaration of ‘xa_dump’ with type ‘void(const struct xarray *)’
 1180 | void xa_dump(const struct xarray *);
      |      ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1013:6: error: conflicting types for ‘xa_dump_node’; have ‘void(const struct xa_node *)’
 1013 | void xa_dump_node(const struct xa_node *);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1181:6: note: previous declaration of ‘xa_dump_node’ with type ‘void(const struct xa_node *)’
 1181 | void xa_dump_node(const struct xa_node *);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1034:21: error: conflicting types for ‘xa_head’; have ‘void *(const struct xarray *)’
 1034 | static inline void *xa_head(const struct xarray *xa)
      |                     ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1202:21: note: previous definition of ‘xa_head’ with type ‘void *(const struct xarray *)’
 1202 | static inline void *xa_head(const struct xarray *xa)
      |                     ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1041:21: error: conflicting types for ‘xa_head_locked’; have ‘void *(const struct xarray *)’
 1041 | static inline void *xa_head_locked(const struct xarray *xa)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1209:21: note: previous definition of ‘xa_head_locked’ with type ‘void *(const struct xarray *)’
 1209 | static inline void *xa_head_locked(const struct xarray *xa)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1048:21: error: conflicting types for ‘xa_entry’; have ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1048 | static inline void *xa_entry(const struct xarray *xa,
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1216:21: note: previous definition of ‘xa_entry’ with type ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1216 | static inline void *xa_entry(const struct xarray *xa,
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1057:21: error: conflicting types for ‘xa_entry_locked’; have ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1057 | static inline void *xa_entry_locked(const struct xarray *xa,
      |                     ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1225:21: note: previous definition of ‘xa_entry_locked’ with type ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1225 | static inline void *xa_entry_locked(const struct xarray *xa,
      |                     ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1066:31: error: conflicting types for ‘xa_parent’; have ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1066 | static inline struct xa_node *xa_parent(const struct xarray *xa,
      |                               ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1234:31: note: previous definition of ‘xa_parent’ with type ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1234 | static inline struct xa_node *xa_parent(const struct xarray *xa,
      |                               ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ec/ec_base.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1074:31: error: conflicting types for ‘xa_parent_locked’; have ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1074 | static inline struct xa_node *xa_parent_locked(const struct xarray *xa,
      |                               ^~~~~~~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ec] Error 2
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1242:31: note: previous definition of ‘xa_parent_locked’ with type ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1242 | static inline struct xa_node *xa_parent_locked(const struct xarray *xa,
      |                               ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1082:21: error: conflicting types for ‘xa_mk_node’; have ‘void *(const struct xa_node *)’
 1082 | static inline void *xa_mk_node(const struct xa_node *node)
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1250:21: note: previous definition of ‘xa_mk_node’ with type ‘void *(const struct xa_node *)’
 1250 | static inline void *xa_mk_node(const struct xa_node *node)
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1088:31: error: conflicting types for ‘xa_to_node’; have ‘struct xa_node *(const void *)’
 1088 | static inline struct xa_node *xa_to_node(const void *entry)
      |                               ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1256:31: note: previous definition of ‘xa_to_node’ with type ‘struct xa_node *(const void *)’
 1256 | static inline struct xa_node *xa_to_node(const void *entry)
      |                               ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1094:20: error: redefinition of ‘xa_is_node’
 1094 | static inline bool xa_is_node(const void *entry)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1262:20: note: previous definition of ‘xa_is_node’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1262 | static inline bool xa_is_node(const void *entry)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1100:21: error: redefinition of ‘xa_mk_sibling’
 1100 | static inline void *xa_mk_sibling(unsigned int offset)
      |                     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1268:21: note: previous definition of ‘xa_mk_sibling’ with type ‘void *(unsigned int)’
 1268 | static inline void *xa_mk_sibling(unsigned int offset)
      |                     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1106:29: error: redefinition of ‘xa_to_sibling’
 1106 | static inline unsigned long xa_to_sibling(const void *entry)
      |                             ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1274:29: note: previous definition of ‘xa_to_sibling’ with type ‘long unsigned int(const void *)’
 1274 | static inline unsigned long xa_to_sibling(const void *entry)
      |                             ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1117:20: error: redefinition of ‘xa_is_sibling’
 1117 | static inline bool xa_is_sibling(const void *entry)
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1285:20: note: previous definition of ‘xa_is_sibling’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1285 | static inline bool xa_is_sibling(const void *entry)
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1131:20: error: redefinition of ‘xa_is_retry’
 1131 | static inline bool xa_is_retry(const void *entry)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1299:20: note: previous definition of ‘xa_is_retry’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1299 | static inline bool xa_is_retry(const void *entry)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1142:20: error: redefinition of ‘xa_is_advanced’
 1142 | static inline bool xa_is_advanced(const void *entry)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1310:20: note: previous definition of ‘xa_is_advanced’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1310 | static inline bool xa_is_advanced(const void *entry)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1159:16: error: conflicting types for ‘xa_update_node_t’; have ‘void (*)(struct xa_node *)’
 1159 | typedef void (*xa_update_node_t)(struct xa_node *node);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1327:16: note: previous declaration of ‘xa_update_node_t’ with type ‘xa_update_node_t’ {aka ‘void (*)(struct xa_node *)’}
 1327 | typedef void (*xa_update_node_t)(struct xa_node *node);
      |                ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1178:8: error: redefinition of ‘struct xa_state’
 1178 | struct xa_state {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1348:8: note: originally defined here
 1348 | struct xa_state {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1198:9: warning: ‘__XA_STATE’ redefined
 1198 | #define __XA_STATE(array, index, shift, sibs)  {        \
      |         ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1369:9: note: this is the location of the previous definition
 1369 | #define __XA_STATE(array, index, shift, sibs)  {        \
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1257:19: error: conflicting types for ‘xas_error’; have ‘int(const struct xa_state *)’
 1257 | static inline int xas_error(const struct xa_state *xas)
      |                   ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1429:19: note: previous definition of ‘xas_error’ with type ‘int(const struct xa_state *)’
 1429 | static inline int xas_error(const struct xa_state *xas)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1271:20: error: conflicting types for ‘xas_set_err’; have ‘void(struct xa_state *, long int)’
 1271 | static inline void xas_set_err(struct xa_state *xas, long err)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1443:20: note: previous definition of ‘xas_set_err’ with type ‘void(struct xa_state *, long int)’
 1443 | static inline void xas_set_err(struct xa_state *xas, long err)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1282:20: error: conflicting types for ‘xas_invalid’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1282 | static inline bool xas_invalid(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1454:20: note: previous definition of ‘xas_invalid’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1454 | static inline bool xas_invalid(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1293:20: error: conflicting types for ‘xas_valid’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1293 | static inline bool xas_valid(const struct xa_state *xas)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1465:20: note: previous definition of ‘xas_valid’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1465 | static inline bool xas_valid(const struct xa_state *xas)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1304:20: error: conflicting types for ‘xas_is_node’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1304 | static inline bool xas_is_node(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1476:20: note: previous definition of ‘xas_is_node’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1476 | static inline bool xas_is_node(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1310:20: error: conflicting types for ‘xas_not_node’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1310 | static inline bool xas_not_node(struct xa_node *node)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1482:20: note: previous definition of ‘xas_not_node’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1482 | static inline bool xas_not_node(struct xa_node *node)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1316:20: error: conflicting types for ‘xas_frozen’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1316 | static inline bool xas_frozen(struct xa_node *node)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1488:20: note: previous definition of ‘xas_frozen’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1488 | static inline bool xas_frozen(struct xa_node *node)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1322:20: error: conflicting types for ‘xas_top’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1322 | static inline bool xas_top(struct xa_node *node)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1494:20: note: previous definition of ‘xas_top’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1494 | static inline bool xas_top(struct xa_node *node)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1337:20: error: conflicting types for ‘xas_reset’; have ‘void(struct xa_state *)’
 1337 | static inline void xas_reset(struct xa_state *xas)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1509:20: note: previous definition of ‘xas_reset’ with type ‘void(struct xa_state *)’
 1509 | static inline void xas_reset(struct xa_state *xas)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1354:20: error: conflicting types for ‘xas_retry’; have ‘bool(struct xa_state *, const void *)’ {aka ‘_Bool(struct xa_state *, const void *)’}
 1354 | static inline bool xas_retry(struct xa_state *xas, const void *entry)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1526:20: note: previous definition of ‘xas_retry’ with type ‘bool(struct xa_state *, const void *)’ {aka ‘_Bool(struct xa_state *, const void *)’}
 1526 | static inline bool xas_retry(struct xa_state *xas, const void *entry)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1364:7: error: conflicting types for ‘xas_load’; have ‘void *(struct xa_state *)’
 1364 | void *xas_load(struct xa_state *);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1536:7: note: previous declaration of ‘xas_load’ with type ‘void *(struct xa_state *)’
 1536 | void *xas_load(struct xa_state *);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1365:7: error: conflicting types for ‘xas_store’; have ‘void *(struct xa_state *, void *)’
 1365 | void *xas_store(struct xa_state *, void *entry);
      |       ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1537:7: note: previous declaration of ‘xas_store’ with type ‘void *(struct xa_state *, void *)’
 1537 | void *xas_store(struct xa_state *, void *entry);
      |       ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1366:7: error: conflicting types for ‘xas_find’; have ‘void *(struct xa_state *, long unsigned int)’
 1366 | void *xas_find(struct xa_state *, unsigned long max);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1538:7: note: previous declaration of ‘xas_find’ with type ‘void *(struct xa_state *, long unsigned int)’
 1538 | void *xas_find(struct xa_state *, unsigned long max);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1367:7: error: conflicting types for ‘xas_find_conflict’; have ‘void *(struct xa_state *)’
 1367 | void *xas_find_conflict(struct xa_state *);
      |       ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1539:7: note: previous declaration of ‘xas_find_conflict’ with type ‘void *(struct xa_state *)’
 1539 | void *xas_find_conflict(struct xa_state *);
      |       ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1369:6: error: conflicting types for ‘xas_get_mark’; have ‘bool(const struct xa_state *, xa_mark_t)’ {aka ‘_Bool(const struct xa_state *, unsigned int)’}
 1369 | bool xas_get_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1541:6: note: previous declaration of ‘xas_get_mark’ with type ‘bool(const struct xa_state *, xa_mark_t)’ {aka ‘_Bool(const struct xa_state *, unsigned int)’}
 1541 | bool xas_get_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1370:6: error: conflicting types for ‘xas_set_mark’; have ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1370 | void xas_set_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1542:6: note: previous declaration of ‘xas_set_mark’ with type ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1542 | void xas_set_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1371:6: error: conflicting types for ‘xas_clear_mark’; have ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1371 | void xas_clear_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1543:6: note: previous declaration of ‘xas_clear_mark’ with type ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1543 | void xas_clear_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1372:7: error: conflicting types for ‘xas_find_marked’; have ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1372 | void *xas_find_marked(struct xa_state *, unsigned long max, xa_mark_t);
      |       ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1544:7: note: previous declaration of ‘xas_find_marked’ with type ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1544 | void *xas_find_marked(struct xa_state *, unsigned long max, xa_mark_t);
      |       ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1373:6: error: conflicting types for ‘xas_init_marks’; have ‘void(const struct xa_state *)’
 1373 | void xas_init_marks(const struct xa_state *);
      |      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1545:6: note: previous declaration of ‘xas_init_marks’ with type ‘void(const struct xa_state *)’
 1545 | void xas_init_marks(const struct xa_state *);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1375:6: error: conflicting types for ‘xas_nomem’; have ‘bool(struct xa_state *, gfp_t)’ {aka ‘_Bool(struct xa_state *, unsigned int)’}
 1375 | bool xas_nomem(struct xa_state *, gfp_t);
      |      ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1547:6: note: previous declaration of ‘xas_nomem’ with type ‘bool(struct xa_state *, gfp_t)’ {aka ‘_Bool(struct xa_state *, unsigned int)’}
 1547 | bool xas_nomem(struct xa_state *, gfp_t);
      |      ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1376:6: error: conflicting types for ‘xas_pause’; have ‘void(struct xa_state *)’
 1376 | void xas_pause(struct xa_state *);
      |      ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1549:6: note: previous declaration of ‘xas_pause’ with type ‘void(struct xa_state *)’
 1549 | void xas_pause(struct xa_state *);
      |      ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1378:6: error: conflicting types for ‘xas_create_range’; have ‘void(struct xa_state *)’
 1378 | void xas_create_range(struct xa_state *);
      |      ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1551:6: note: previous declaration of ‘xas_create_range’ with type ‘void(struct xa_state *)’
 1551 | void xas_create_range(struct xa_state *);
      |      ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1394:21: error: conflicting types for ‘xas_reload’; have ‘void *(struct xa_state *)’
 1394 | static inline void *xas_reload(struct xa_state *xas)
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1608:21: note: previous definition of ‘xas_reload’ with type ‘void *(struct xa_state *)’
 1608 | static inline void *xas_reload(struct xa_state *xas)
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1412:20: error: conflicting types for ‘xas_set’; have ‘void(struct xa_state *, long unsigned int)’
 1412 | static inline void xas_set(struct xa_state *xas, unsigned long index)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1637:20: note: previous definition of ‘xas_set’ with type ‘void(struct xa_state *, long unsigned int)’
 1637 | static inline void xas_set(struct xa_state *xas, unsigned long index)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1424:20: error: conflicting types for ‘xas_set_order’; have ‘void(struct xa_state *, long unsigned int,  unsigned int)’
 1424 | static inline void xas_set_order(struct xa_state *xas, unsigned long index,
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1667:20: note: previous definition of ‘xas_set_order’ with type ‘void(struct xa_state *, long unsigned int,  unsigned int)’
 1667 | static inline void xas_set_order(struct xa_state *xas, unsigned long index,
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1446:20: error: conflicting types for ‘xas_set_update’; have ‘void(struct xa_state *, void (*)(struct xa_node *))’
 1446 | static inline void xas_set_update(struct xa_state *xas, xa_update_node_t update)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1690:20: note: previous definition of ‘xas_set_update’ with type ‘void(struct xa_state *, void (*)(struct xa_node *))’
 1690 | static inline void xas_set_update(struct xa_state *xas, xa_update_node_t update)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1462:21: error: conflicting types for ‘xas_next_entry’; have ‘void *(struct xa_state *, long unsigned int)’
 1462 | static inline void *xas_next_entry(struct xa_state *xas, unsigned long max)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1711:21: note: previous definition of ‘xas_next_entry’ with type ‘void *(struct xa_state *, long unsigned int)’
 1711 | static inline void *xas_next_entry(struct xa_state *xas, unsigned long max)
      |                     ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lustre/ptlrpc/client.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/in.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/in.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/netfilter.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netfilter_defs.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netns/netfilter.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device/driver.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device.h:32,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/dma-mapping.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1487:28: error: conflicting types for ‘xas_find_chunk’; have ‘unsigned int(struct xa_state *, bool,  xa_mark_t)’ {aka ‘unsigned int(struct xa_state *, _Bool,  unsigned int)’}
 1487 | static inline unsigned int xas_find_chunk(struct xa_state *xas, bool advance,
      |                            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1736:28: note: previous definition of ‘xas_find_chunk’ with type ‘unsigned int(struct xa_state *, bool,  xa_mark_t)’ {aka ‘unsigned int(struct xa_state *, _Bool,  unsigned int)’}
 1736 | static inline unsigned int xas_find_chunk(struct xa_state *xas, bool advance,
      |                            ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1519:21: error: conflicting types for ‘xas_next_marked’; have ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1519 | static inline void *xas_next_marked(struct xa_state *xas, unsigned long max,
      |                     ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1768:21: note: previous definition of ‘xas_next_marked’ with type ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1768 | static inline void *xas_next_marked(struct xa_state *xas, unsigned long max,
      |                     ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1542:9: error: redeclaration of enumerator ‘XA_CHECK_SCHED’
 1542 |         XA_CHECK_SCHED = 4096,
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1795:9: note: previous definition of ‘XA_CHECK_SCHED’ with type ‘enum <anonymous>’
 1795 |         XA_CHECK_SCHED = 4096,
      |         ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1596:7: error: conflicting types for ‘__xas_next’; have ‘void *(struct xa_state *)’
 1596 | void *__xas_next(struct xa_state *);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1848:7: note: previous declaration of ‘__xas_next’ with type ‘void *(struct xa_state *)’
 1848 | void *__xas_next(struct xa_state *);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1597:7: error: conflicting types for ‘__xas_prev’; have ‘void *(struct xa_state *)’
 1597 | void *__xas_prev(struct xa_state *);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1849:7: note: previous declaration of ‘__xas_prev’ with type ‘void *(struct xa_state *)’
 1849 | void *__xas_prev(struct xa_state *);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1615:21: error: conflicting types for ‘xas_prev’; have ‘void *(struct xa_state *)’
 1615 | static inline void *xas_prev(struct xa_state *xas)
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1867:21: note: previous definition of ‘xas_prev’ with type ‘void *(struct xa_state *)’
 1867 | static inline void *xas_prev(struct xa_state *xas)
      |                     ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1644:21: error: conflicting types for ‘xas_next’; have ‘void *(struct xa_state *)’
 1644 | static inline void *xas_next(struct xa_state *xas)
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1896:21: note: previous definition of ‘xas_next’ with type ‘void *(struct xa_state *)’
 1896 | static inline void *xas_next(struct xa_state *xas)
      |                     ^~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:24:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdecho/echo_client.o] Error 1
In file included from libcfs/libcfs/linux/linux-wait.c:11:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:33: error: field ‘key’ has incomplete type
   26 |         struct wait_bit_key     key;
      |                                 ^~~
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from lnet/lnet/api-ni.c:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from lnet/lnet/api-ni.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ofd/ofd_dev.o] Error 1
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/net.h:23:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ofd] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘clear_and_wake_up_bit’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:68:9: error: implicit declaration of function ‘wake_up_bit’; did you mean ‘wake_up_nr’? [-Wimplicit-function-declaration]
   68 |         wake_up_bit(word, bit);
      |         ^~~~~~~~~~~
      |         wake_up_nr
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/refcount.h:104,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:5,
                 from lnet/lnet/config.c:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/delay.h:13,
                 from lustre/ptlrpc/client.c:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:16:28: note: in expansion of macro ‘wait_queue_entry_t’
   16 |                            wait_queue_entry_t *wq_entry, int state)
      |                            ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
libcfs/libcfs/linux/linux-wait.c: In function ‘__var_waitqueue’:
libcfs/libcfs/linux/linux-wait.c:62:33: error: implicit declaration of function ‘hash_ptr’; did you mean ‘si_ptr’? [-Wimplicit-function-declaration]
   62 |         return bit_wait_table + hash_ptr(p, WAIT_TABLE_BITS);
      |                                 ^~~~~~~~
      |                                 si_ptr
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestamp’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:16: note: in expansion of macro ‘timespec64’
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:24,
                 from lnet/selftest/console.c:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: error: storage size of ‘ts’ isn’t known
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: warning: unused variable ‘ts’ [-Wunused-variable]
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:16: note: in expansion of macro ‘timespec64’
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: error: storage size of ‘ts’ isn’t known
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: warning: unused variable ‘ts’ [-Wunused-variable]
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:16: note: in expansion of macro ‘timespec64’
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: error: storage size of ‘ts’ isn’t known
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: warning: unused variable ‘ts’ [-Wunused-variable]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:67:19: note: in expansion of macro ‘wait_queue_entry_t’
   67 | var_wake_function(wait_queue_entry_t *wq_entry, unsigned int mode,
      |                   ^~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c: In function ‘init_wait_var_entry’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:89:17: warning: braces around scalar initializer
   89 |                 .wq_entry = {
      |                 ^
libcfs/libcfs/linux/linux-wait.c:89:17: note: (near initialization for ‘(anonymous).wq_entry’)
libcfs/libcfs/linux/linux-wait.c:90:25: error: field name not in record or union initializer
   90 |                         .private = current,
      |                         ^
libcfs/libcfs/linux/linux-wait.c:90:25: note: (near initialization for ‘(anonymous).wq_entry’)
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:12,
                 from libcfs/libcfs/linux/linux-wait.c:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/current.h:28:17: error: initialization of ‘int’ from ‘struct task_struct *’ makes integer from pointer without a cast [-Wint-conversion]
   28 | #define current get_current()
      |                 ^~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:90:36: note: in expansion of macro ‘current’
   90 |                         .private = current,
      |                                    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/current.h:28:17: note: (near initialization for ‘(anonymous).wq_entry’)
   28 | #define current get_current()
      |                 ^~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:90:36: note: in expansion of macro ‘current’
   90 |                         .private = current,
      |                                    ^~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:91:25: error: field name not in record or union initializer
   91 |                         .func = var_wake_function,
      |                         ^
libcfs/libcfs/linux/linux-wait.c:91:25: note: (near initialization for ‘(anonymous).wq_entry’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:42:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bvec.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/delay.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgc/mgc_request.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mgc] Error 2
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:91:33: error: ‘var_wake_function’ undeclared (first use in this function); did you mean ‘woken_wake_function’?
   91 |                         .func = var_wake_function,
      |                                 ^~~~~~~~~~~~~~~~~
      |                                 woken_wake_function
libcfs/libcfs/linux/linux-wait.c:91:33: note: each undeclared identifier is reported only once for each function it appears in
libcfs/libcfs/linux/linux-wait.c:91:33: warning: excess elements in scalar initializer
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:91:33: note: (near initialization for ‘(anonymous).wq_entry’)
libcfs/libcfs/linux/linux-wait.c:95:25: error: field name not in record or union initializer
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                         ^
libcfs/libcfs/linux/linux-wait.c:95:25: note: (near initialization for ‘(anonymous).wq_entry’)
libcfs/libcfs/linux/linux-wait.c:95:25: warning: braces around scalar initializer
libcfs/libcfs/linux/linux-wait.c:95:25: note: (near initialization for ‘(anonymous).wq_entry’)
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/random.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nodemask.h:97,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/numa.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:13:
libcfs/libcfs/linux/linux-wait.c:95:72: error: request for member ‘task_list’ in something not a structure or union
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                                                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:34: note: in definition of macro ‘LIST_HEAD_INIT’
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                  ^~~~
libcfs/libcfs/linux/linux-wait.c:95:72: error: request for member ‘task_list’ in something not a structure or union
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                                                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:43: note: in definition of macro ‘LIST_HEAD_INIT’
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                           ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:41: warning: excess elements in scalar initializer
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                         ^
libcfs/libcfs/linux/linux-wait.c:95:38: note: in expansion of macro ‘LIST_HEAD_INIT’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:41: note: (near initialization for ‘(anonymous).wq_entry’)
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                         ^
libcfs/libcfs/linux/linux-wait.c:95:38: note: in expansion of macro ‘LIST_HEAD_INIT’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:30: warning: excess elements in scalar initializer
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                              ^
libcfs/libcfs/linux/linux-wait.c:95:38: note: in expansion of macro ‘LIST_HEAD_INIT’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:30: note: (near initialization for ‘(anonymous).wq_entry’)
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                              ^
libcfs/libcfs/linux/linux-wait.c:95:38: note: in expansion of macro ‘LIST_HEAD_INIT’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c: In function ‘wake_up_var’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
libcfs/libcfs/linux/linux-wait.c:104:9: error: implicit declaration of function ‘__wake_up_bit’; did you mean ‘__wake_up_sync’? [-Wimplicit-function-declaration]
  104 |         __wake_up_bit(__var_waitqueue(var), var, -1);
      |         ^~~~~~~~~~~~~
      |         __wake_up_sync
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/linux/linux-wait.o] Error 1
make[8]: *** Waiting for unfinished jobs....
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/eventfd.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/eventfd.h:39:60: note: in expansion of macro ‘wait_queue_entry_t’
   39 | int eventfd_ctx_remove_wait_queue(struct eventfd_ctx *ctx, wait_queue_entry_t *wait,
      |                                                            ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:11:27: error: conflicting types for ‘netdev_cmd_to_name’; have ‘const char *(long unsigned int)’
   11 | static inline const char *netdev_cmd_to_name(unsigned long cmd)
      |                           ^~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/inetdevice.h:10,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:3150:13: note: previous declaration of ‘netdev_cmd_to_name’ with type ‘const char *(enum netdev_cmd)’
 3150 | const char *netdev_cmd_to_name(enum netdev_cmd cmd);
      |             ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:61:9: warning: ‘NL_SET_BAD_ATTR’ redefined
   61 | #define NL_SET_BAD_ATTR(extack, attr)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:19,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:150:9: note: this is the location of the previous definition
  150 | #define NL_SET_BAD_ATTR(extack, attr) NL_SET_BAD_ATTR_POLICY(extack, attr, NULL)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:74:8: error: redefinition of ‘struct netlink_ext_ack’
   74 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:82:8: note: originally defined here
   82 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:81:9: warning: ‘GENL_SET_ERR_MSG’ redefined
   81 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG(NULL, msg)
      |         ^~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mdt/mdt_handler.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:161:9: note: this is the location of the previous definition
  161 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG((info)->extack, msg)
      |         ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:88:16: error: too few arguments to function ‘nla_parse’; expected 6, have 5
   88 |         return nla_parse(tb, maxtype, head, len, policy);
      |                ^~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mdt] Error 2
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/rtnetlink.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/neighbour.h:31,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/dst.h:20,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/sock.h:66,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/tcp.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ipv6.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/ipv6.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sunrpc/addr.h:14,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:682:19: note: declared here
  682 | static inline int nla_parse(struct nlattr **tb, int maxtype,
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse_nested’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:96:16: error: too few arguments to function ‘nla_parse_nested’; expected 5, have 4
   96 |         return nla_parse_nested(tb, maxtype, nla, policy);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:1314:19: note: declared here
 1314 | static inline int nla_parse_nested(struct nlattr *tb[], int maxtype,
      |                   ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgs/mgs_handler.o] Error 1
make[8]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:33:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:24:21: error: redefinition of ‘xa_mk_value’
   24 | static inline void *xa_mk_value(unsigned long v)
      |                     ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:58:21: note: previous definition of ‘xa_mk_value’ with type ‘void *(long unsigned int)’
   58 | static inline void *xa_mk_value(unsigned long v)
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:30:29: error: redefinition of ‘xa_to_value’
   30 | static inline unsigned long xa_to_value(const void *entry)
      |                             ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:71:29: note: previous definition of ‘xa_to_value’ with type ‘long unsigned int(const void *)’
   71 | static inline unsigned long xa_to_value(const void *entry)
      |                             ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:35:20: error: redefinition of ‘xa_is_value’
   35 | static inline bool xa_is_value(const void *entry)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:83:20: note: previous definition of ‘xa_is_value’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
   83 | static inline bool xa_is_value(const void *entry)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:40:21: error: redefinition of ‘xa_tag_pointer’
   40 | static inline void *xa_tag_pointer(void *p, unsigned long tag)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:101:21: note: previous definition of ‘xa_tag_pointer’ with type ‘void *(void *, long unsigned int)’
  101 | static inline void *xa_tag_pointer(void *p, unsigned long tag)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:45:21: error: redefinition of ‘xa_untag_pointer’
   45 | static inline void *xa_untag_pointer(void *entry)
      |                     ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:116:21: note: previous definition of ‘xa_untag_pointer’ with type ‘void *(void *)’
  116 | static inline void *xa_untag_pointer(void *entry)
      |                     ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:50:28: error: redefinition of ‘xa_pointer_tag’
   50 | static inline unsigned int xa_pointer_tag(void *entry)
      |                            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:131:28: note: previous definition of ‘xa_pointer_tag’ with type ‘unsigned int(void *)’
  131 | static inline unsigned int xa_pointer_tag(void *entry)
      |                            ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:55:21: error: redefinition of ‘xa_mk_internal’
   55 | static inline void *xa_mk_internal(unsigned long v)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:149:21: note: previous definition of ‘xa_mk_internal’ with type ‘void *(long unsigned int)’
  149 | static inline void *xa_mk_internal(unsigned long v)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:60:29: error: redefinition of ‘xa_to_internal’
   60 | static inline unsigned long xa_to_internal(const void *entry)
      |                             ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:161:29: note: previous definition of ‘xa_to_internal’ with type ‘long unsigned int(const void *)’
  161 | static inline unsigned long xa_to_internal(const void *entry)
      |                             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:65:20: error: redefinition of ‘xa_is_internal’
   65 | static inline bool xa_is_internal(const void *entry)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:173:20: note: previous definition of ‘xa_is_internal’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  173 | static inline bool xa_is_internal(const void *entry)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:72:20: error: redefinition of ‘xa_is_zero’
   72 | static inline bool xa_is_zero(const void *entry)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:189:20: note: previous definition of ‘xa_is_zero’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  189 | static inline bool xa_is_zero(const void *entry)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:77:20: error: redefinition of ‘xa_is_err’
   77 | static inline bool xa_is_err(const void *entry)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:205:20: note: previous definition of ‘xa_is_err’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
  205 | static inline bool xa_is_err(const void *entry)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:83:19: error: redefinition of ‘xa_err’
   83 | static inline int xa_err(void *entry)
      |                   ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:223:19: note: previous definition of ‘xa_err’ with type ‘int(void *)’
  223 | static inline int xa_err(void *entry)
      |                   ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:101:8: error: redefinition of ‘struct xa_limit’
  101 | struct xa_limit {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:243:8: note: originally defined here
  243 | struct xa_limit {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:119:6: error: redeclaration of ‘enum xa_lock_type’
  119 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:262:6: note: originally defined here
  262 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:120:9: error: redeclaration of enumerator ‘XA_LOCK_IRQ’
  120 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:263:9: note: previous definition of ‘XA_LOCK_IRQ’ with type ‘enum xa_lock_type’
  263 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:121:9: error: redeclaration of enumerator ‘XA_LOCK_BH’
  121 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:264:9: note: previous definition of ‘XA_LOCK_BH’ with type ‘enum xa_lock_type’
  264 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:151:8: error: redefinition of ‘struct xarray’
  151 | struct xarray {
      |        ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:300:8: note: originally defined here
  300 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:158:9: warning: ‘XARRAY_INIT’ redefined
  158 | #define XARRAY_INIT(name, flags) {\
      |         ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:307:9: note: this is the location of the previous definition
  307 | #define XARRAY_INIT(name, flags) {                              \
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:184:8: error: redefinition of ‘struct xa_limit’
  184 | struct xa_limit {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:101:8: note: originally defined here
  101 | struct xa_limit {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:202:6: error: redeclaration of ‘enum xa_lock_type’
  202 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:119:6: note: originally defined here
  119 | enum xa_lock_type {
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:203:9: error: redeclaration of enumerator ‘XA_LOCK_IRQ’
  203 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:120:9: note: previous definition of ‘XA_LOCK_IRQ’ with type ‘enum xa_lock_type’
  120 |         XA_LOCK_IRQ = 1,
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:204:9: error: redeclaration of enumerator ‘XA_LOCK_BH’
  204 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:121:9: note: previous definition of ‘XA_LOCK_BH’ with type ‘enum xa_lock_type’
  121 |         XA_LOCK_BH = 2,
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:234:8: error: redefinition of ‘struct xarray’
  234 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:151:8: note: originally defined here
  151 | struct xarray {
      |        ^~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:254:7: error: conflicting types for ‘xa_load’; have ‘void *(struct xarray *, long unsigned int)’
  254 | void *xa_load(struct xarray *, unsigned long index);
      |       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:355:7: note: previous declaration of ‘xa_load’ with type ‘void *(struct xarray *, long unsigned int)’
  355 | void *xa_load(struct xarray *, unsigned long index);
      |       ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:255:7: error: conflicting types for ‘xa_store’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  255 | void *xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:356:7: note: previous declaration of ‘xa_store’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  356 | void *xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:256:7: error: conflicting types for ‘xa_erase’; have ‘void *(struct xarray *, long unsigned int)’
  256 | void *xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:357:7: note: previous declaration of ‘xa_erase’ with type ‘void *(struct xarray *, long unsigned int)’
  357 | void *xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:257:7: error: conflicting types for ‘xa_store_range’; have ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, unsigned int)’}
  257 | void *xa_store_range(struct xarray *, unsigned long first, unsigned long last,
      |       ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:358:7: note: previous declaration of ‘xa_store_range’ with type ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  long unsigned int,  void *, unsigned int)’}
  358 | void *xa_store_range(struct xarray *, unsigned long first, unsigned long last,
      |       ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:259:6: error: conflicting types for ‘xa_get_mark’; have ‘bool(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘_Bool(struct xarray *, long unsigned int,  unsigned int)’}
  259 | bool xa_get_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:360:6: note: previous declaration of ‘xa_get_mark’ with type ‘bool(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘_Bool(struct xarray *, long unsigned int,  unsigned int)’}
  360 | bool xa_get_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:260:6: error: conflicting types for ‘xa_set_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  260 | void xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:361:6: note: previous declaration of ‘xa_set_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  361 | void xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:261:6: error: conflicting types for ‘xa_clear_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  261 | void xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:362:6: note: previous declaration of ‘xa_clear_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  362 | void xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:262:7: error: conflicting types for ‘xa_find’; have ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  262 | void *xa_find(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:363:7: note: previous declaration of ‘xa_find’ with type ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  363 | void *xa_find(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:264:7: error: conflicting types for ‘xa_find_after’; have ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  264 | void *xa_find_after(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:365:7: note: previous declaration of ‘xa_find_after’ with type ‘void *(struct xarray *, long unsigned int *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xarray *, long unsigned int *, long unsigned int,  unsigned int)’}
  365 | void *xa_find_after(struct xarray *xa, unsigned long *index,
      |       ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:266:14: error: conflicting types for ‘xa_extract’; have ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  xa_mark_t)’ {aka ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  unsigned int)’}
  266 | unsigned int xa_extract(struct xarray *, void **dst, unsigned long start,
      |              ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:367:14: note: previous declaration of ‘xa_extract’ with type ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  xa_mark_t)’ {aka ‘unsigned int(struct xarray *, void **, long unsigned int,  long unsigned int,  unsigned int,  unsigned int)’}
  367 | unsigned int xa_extract(struct xarray *, void **dst, unsigned long start,
      |              ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:268:6: error: conflicting types for ‘xa_destroy’; have ‘void(struct xarray *)’
  268 | void xa_destroy(struct xarray *);
      |      ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:369:6: note: previous declaration of ‘xa_destroy’ with type ‘void(struct xarray *)’
  369 | void xa_destroy(struct xarray *);
      |      ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:281:20: error: conflicting types for ‘xa_init_flags’; have ‘void(struct xarray *, gfp_t)’ {aka ‘void(struct xarray *, unsigned int)’}
  281 | static inline void xa_init_flags(struct xarray *xa, gfp_t flags)
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:382:20: note: previous definition of ‘xa_init_flags’ with type ‘void(struct xarray *, gfp_t)’ {aka ‘void(struct xarray *, unsigned int)’}
  382 | static inline void xa_init_flags(struct xarray *xa, gfp_t flags)
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:296:20: error: conflicting types for ‘xa_init’; have ‘void(struct xarray *)’
  296 | static inline void xa_init(struct xarray *xa)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:397:20: note: previous definition of ‘xa_init’ with type ‘void(struct xarray *)’
  397 | static inline void xa_init(struct xarray *xa)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:308:20: error: conflicting types for ‘xa_empty’; have ‘bool(const struct xarray *)’ {aka ‘_Bool(const struct xarray *)’}
  308 | static inline bool xa_empty(const struct xarray *xa)
      |                    ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:409:20: note: previous definition of ‘xa_empty’ with type ‘bool(const struct xarray *)’ {aka ‘_Bool(const struct xarray *)’}
  409 | static inline bool xa_empty(const struct xarray *xa)
      |                    ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:321:20: error: conflicting types for ‘xa_marked’; have ‘bool(const struct xarray *, xa_mark_t)’ {aka ‘_Bool(const struct xarray *, unsigned int)’}
  321 | static inline bool xa_marked(const struct xarray *xa, xa_mark_t mark)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:422:20: note: previous definition of ‘xa_marked’ with type ‘bool(const struct xarray *, xa_mark_t)’ {aka ‘_Bool(const struct xarray *, unsigned int)’}
  422 | static inline bool xa_marked(const struct xarray *xa, xa_mark_t mark)
      |                    ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:349:9: warning: ‘xa_for_each_start’ redefined
  349 | #define xa_for_each_start(xa, index, entry, start)                      \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:480:9: note: this is the location of the previous definition
  480 | #define xa_for_each_start(xa, index, entry, start) \
      |         ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:426:7: error: conflicting types for ‘__xa_erase’; have ‘void *(struct xarray *, long unsigned int)’
  426 | void *__xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:562:7: note: previous declaration of ‘__xa_erase’ with type ‘void *(struct xarray *, long unsigned int)’
  562 | void *__xa_erase(struct xarray *, unsigned long index);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:427:7: error: conflicting types for ‘__xa_store’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  427 | void *__xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:563:7: note: previous declaration of ‘__xa_store’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  563 | void *__xa_store(struct xarray *, unsigned long index, void *entry, gfp_t);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:428:7: error: conflicting types for ‘__xa_cmpxchg’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  428 | void *__xa_cmpxchg(struct xarray *, unsigned long index, void *old,
      |       ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:564:7: note: previous declaration of ‘__xa_cmpxchg’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  564 | void *__xa_cmpxchg(struct xarray *, unsigned long index, void *old,
      |       ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:430:18: error: conflicting types for ‘__xa_insert’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  430 | int __must_check __xa_insert(struct xarray *, unsigned long index,
      |                  ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:566:18: note: previous declaration of ‘__xa_insert’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  566 | int __must_check __xa_insert(struct xarray *, unsigned long index,
      |                  ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:432:18: error: conflicting types for ‘__xa_alloc’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  432 | int __must_check __xa_alloc(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:568:18: note: previous declaration of ‘__xa_alloc’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  568 | int __must_check __xa_alloc(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:434:18: error: conflicting types for ‘__xa_alloc_cyclic’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  434 | int __must_check __xa_alloc_cyclic(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:570:18: note: previous declaration of ‘__xa_alloc_cyclic’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  570 | int __must_check __xa_alloc_cyclic(struct xarray *, u32 *id, void *entry,
      |                  ^~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:436:6: error: conflicting types for ‘__xa_set_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  436 | void __xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:572:6: note: previous declaration of ‘__xa_set_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  572 | void __xa_set_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:437:6: error: conflicting types for ‘__xa_clear_mark’; have ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  437 | void __xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:573:6: note: previous declaration of ‘__xa_clear_mark’ with type ‘void(struct xarray *, long unsigned int,  xa_mark_t)’ {aka ‘void(struct xarray *, long unsigned int,  unsigned int)’}
  573 | void __xa_clear_mark(struct xarray *, unsigned long index, xa_mark_t);
      |      ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:453:21: error: conflicting types for ‘xa_store_bh’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  453 | static inline void *xa_store_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:589:21: note: previous definition of ‘xa_store_bh’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  589 | static inline void *xa_store_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:479:21: error: conflicting types for ‘xa_store_irq’; have ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  479 | static inline void *xa_store_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:616:21: note: previous definition of ‘xa_store_irq’ with type ‘void *(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, unsigned int)’}
  616 | static inline void *xa_store_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:504:21: error: conflicting types for ‘xa_erase_bh’; have ‘void *(struct xarray *, long unsigned int)’
  504 | static inline void *xa_erase_bh(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:642:21: note: previous definition of ‘xa_erase_bh’ with type ‘void *(struct xarray *, long unsigned int)’
  642 | static inline void *xa_erase_bh(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:528:21: error: conflicting types for ‘xa_erase_irq’; have ‘void *(struct xarray *, long unsigned int)’
  528 | static inline void *xa_erase_irq(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:666:21: note: previous definition of ‘xa_erase_irq’ with type ‘void *(struct xarray *, long unsigned int)’
  666 | static inline void *xa_erase_irq(struct xarray *xa, unsigned long index)
      |                     ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:554:21: error: conflicting types for ‘xa_cmpxchg’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  554 | static inline void *xa_cmpxchg(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:692:21: note: previous definition of ‘xa_cmpxchg’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  692 | static inline void *xa_cmpxchg(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:581:21: error: conflicting types for ‘xa_cmpxchg_bh’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  581 | static inline void *xa_cmpxchg_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:720:21: note: previous definition of ‘xa_cmpxchg_bh’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  720 | static inline void *xa_cmpxchg_bh(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:608:21: error: conflicting types for ‘xa_cmpxchg_irq’; have ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  608 | static inline void *xa_cmpxchg_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:748:21: note: previous definition of ‘xa_cmpxchg_irq’ with type ‘void *(struct xarray *, long unsigned int,  void *, void *, gfp_t)’ {aka ‘void *(struct xarray *, long unsigned int,  void *, void *, unsigned int)’}
  748 | static inline void *xa_cmpxchg_irq(struct xarray *xa, unsigned long index,
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:637:32: error: conflicting types for ‘xa_insert’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  637 | static inline int __must_check xa_insert(struct xarray *xa,
      |                                ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:778:32: note: previous definition of ‘xa_insert’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  778 | static inline int __must_check xa_insert(struct xarray *xa,
      |                                ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:666:32: error: conflicting types for ‘xa_insert_bh’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  666 | static inline int __must_check xa_insert_bh(struct xarray *xa,
      |                                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:808:32: note: previous definition of ‘xa_insert_bh’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  808 | static inline int __must_check xa_insert_bh(struct xarray *xa,
      |                                ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:695:32: error: conflicting types for ‘xa_insert_irq’; have ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  695 | static inline int __must_check xa_insert_irq(struct xarray *xa,
      |                                ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:838:32: note: previous definition of ‘xa_insert_irq’ with type ‘int(struct xarray *, long unsigned int,  void *, gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  void *, unsigned int)’}
  838 | static inline int __must_check xa_insert_irq(struct xarray *xa,
      |                                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:724:32: error: conflicting types for ‘xa_alloc’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  724 | static inline __must_check int xa_alloc(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:871:32: note: previous definition of ‘xa_alloc’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  871 | static inline __must_check int xa_alloc(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:753:32: error: conflicting types for ‘xa_alloc_bh’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  753 | static inline int __must_check xa_alloc_bh(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:904:32: note: previous definition of ‘xa_alloc_bh’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  904 | static inline int __must_check xa_alloc_bh(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:782:32: error: conflicting types for ‘xa_alloc_irq’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  782 | static inline int __must_check xa_alloc_irq(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:937:32: note: previous definition of ‘xa_alloc_irq’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int)’}
  937 | static inline int __must_check xa_alloc_irq(struct xarray *xa, u32 *id,
      |                                ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:815:19: error: conflicting types for ‘xa_alloc_cyclic’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  815 | static inline int xa_alloc_cyclic(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:974:19: note: previous definition of ‘xa_alloc_cyclic’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  974 | static inline int xa_alloc_cyclic(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:848:19: error: conflicting types for ‘xa_alloc_cyclic_bh’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  848 | static inline int xa_alloc_cyclic_bh(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1011:19: note: previous definition of ‘xa_alloc_cyclic_bh’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
 1011 | static inline int xa_alloc_cyclic_bh(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:881:19: error: conflicting types for ‘xa_alloc_cyclic_irq’; have ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
  881 | static inline int xa_alloc_cyclic_irq(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1048:19: note: previous definition of ‘xa_alloc_cyclic_irq’ with type ‘int(struct xarray *, u32 *, void *, struct xa_limit,  u32 *, gfp_t)’ {aka ‘int(struct xarray *, unsigned int *, void *, struct xa_limit,  unsigned int *, unsigned int)’}
 1048 | static inline int xa_alloc_cyclic_irq(struct xarray *xa, u32 *id, void *entry,
      |                   ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:912:5: error: conflicting types for ‘xa_reserve’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  912 | int xa_reserve(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1080:5: note: previous definition of ‘xa_reserve’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1080 | int xa_reserve(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:930:5: error: conflicting types for ‘xa_reserve_bh’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  930 | int xa_reserve_bh(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1098:5: note: previous definition of ‘xa_reserve_bh’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1098 | int xa_reserve_bh(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:948:5: error: conflicting types for ‘xa_reserve_irq’; have ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
  948 | int xa_reserve_irq(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1116:5: note: previous definition of ‘xa_reserve_irq’ with type ‘int(struct xarray *, long unsigned int,  gfp_t)’ {aka ‘int(struct xarray *, long unsigned int,  unsigned int)’}
 1116 | int xa_reserve_irq(struct xarray *xa, unsigned long index, gfp_t gfp)
      |     ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:962:20: error: conflicting types for ‘xa_release’; have ‘void(struct xarray *, long unsigned int)’
  962 | static inline void xa_release(struct xarray *xa, unsigned long index)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1130:20: note: previous definition of ‘xa_release’ with type ‘void(struct xarray *, long unsigned int)’
 1130 | static inline void xa_release(struct xarray *xa, unsigned long index)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:985:9: warning: ‘XA_MARK_LONGS’ redefined
  985 | #define XA_MARK_LONGS           DIV_ROUND_UP(XA_CHUNK_SIZE, BITS_PER_LONG)
      |         ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1153:9: note: this is the location of the previous definition
 1153 | #define XA_MARK_LONGS           BITS_TO_LONGS(XA_CHUNK_SIZE)
      |         ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:994:8: error: redefinition of ‘struct xa_node’
  994 | struct xa_node {
      |        ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1162:8: note: originally defined here
 1162 | struct xa_node {
      |        ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1012:6: error: conflicting types for ‘xa_dump’; have ‘void(const struct xarray *)’
 1012 | void xa_dump(const struct xarray *);
      |      ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1180:6: note: previous declaration of ‘xa_dump’ with type ‘void(const struct xarray *)’
 1180 | void xa_dump(const struct xarray *);
      |      ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1013:6: error: conflicting types for ‘xa_dump_node’; have ‘void(const struct xa_node *)’
 1013 | void xa_dump_node(const struct xa_node *);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1181:6: note: previous declaration of ‘xa_dump_node’ with type ‘void(const struct xa_node *)’
 1181 | void xa_dump_node(const struct xa_node *);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1034:21: error: conflicting types for ‘xa_head’; have ‘void *(const struct xarray *)’
 1034 | static inline void *xa_head(const struct xarray *xa)
      |                     ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1202:21: note: previous definition of ‘xa_head’ with type ‘void *(const struct xarray *)’
 1202 | static inline void *xa_head(const struct xarray *xa)
      |                     ^~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1041:21: error: conflicting types for ‘xa_head_locked’; have ‘void *(const struct xarray *)’
 1041 | static inline void *xa_head_locked(const struct xarray *xa)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1209:21: note: previous definition of ‘xa_head_locked’ with type ‘void *(const struct xarray *)’
 1209 | static inline void *xa_head_locked(const struct xarray *xa)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1048:21: error: conflicting types for ‘xa_entry’; have ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1048 | static inline void *xa_entry(const struct xarray *xa,
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1216:21: note: previous definition of ‘xa_entry’ with type ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1216 | static inline void *xa_entry(const struct xarray *xa,
      |                     ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1057:21: error: conflicting types for ‘xa_entry_locked’; have ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1057 | static inline void *xa_entry_locked(const struct xarray *xa,
      |                     ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1225:21: note: previous definition of ‘xa_entry_locked’ with type ‘void *(const struct xarray *, const struct xa_node *, unsigned int)’
 1225 | static inline void *xa_entry_locked(const struct xarray *xa,
      |                     ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1066:31: error: conflicting types for ‘xa_parent’; have ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1066 | static inline struct xa_node *xa_parent(const struct xarray *xa,
      |                               ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1234:31: note: previous definition of ‘xa_parent’ with type ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1234 | static inline struct xa_node *xa_parent(const struct xarray *xa,
      |                               ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1074:31: error: conflicting types for ‘xa_parent_locked’; have ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1074 | static inline struct xa_node *xa_parent_locked(const struct xarray *xa,
      |                               ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1242:31: note: previous definition of ‘xa_parent_locked’ with type ‘struct xa_node *(const struct xarray *, const struct xa_node *)’
 1242 | static inline struct xa_node *xa_parent_locked(const struct xarray *xa,
      |                               ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1082:21: error: conflicting types for ‘xa_mk_node’; have ‘void *(const struct xa_node *)’
 1082 | static inline void *xa_mk_node(const struct xa_node *node)
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1250:21: note: previous definition of ‘xa_mk_node’ with type ‘void *(const struct xa_node *)’
 1250 | static inline void *xa_mk_node(const struct xa_node *node)
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1088:31: error: conflicting types for ‘xa_to_node’; have ‘struct xa_node *(const void *)’
 1088 | static inline struct xa_node *xa_to_node(const void *entry)
      |                               ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1256:31: note: previous definition of ‘xa_to_node’ with type ‘struct xa_node *(const void *)’
 1256 | static inline struct xa_node *xa_to_node(const void *entry)
      |                               ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1094:20: error: redefinition of ‘xa_is_node’
 1094 | static inline bool xa_is_node(const void *entry)
      |                    ^~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1262:20: note: previous definition of ‘xa_is_node’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1262 | static inline bool xa_is_node(const void *entry)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1100:21: error: redefinition of ‘xa_mk_sibling’
 1100 | static inline void *xa_mk_sibling(unsigned int offset)
      |                     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1268:21: note: previous definition of ‘xa_mk_sibling’ with type ‘void *(unsigned int)’
 1268 | static inline void *xa_mk_sibling(unsigned int offset)
      |                     ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1106:29: error: redefinition of ‘xa_to_sibling’
 1106 | static inline unsigned long xa_to_sibling(const void *entry)
      |                             ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1274:29: note: previous definition of ‘xa_to_sibling’ with type ‘long unsigned int(const void *)’
 1274 | static inline unsigned long xa_to_sibling(const void *entry)
      |                             ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1117:20: error: redefinition of ‘xa_is_sibling’
 1117 | static inline bool xa_is_sibling(const void *entry)
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1285:20: note: previous definition of ‘xa_is_sibling’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1285 | static inline bool xa_is_sibling(const void *entry)
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1131:20: error: redefinition of ‘xa_is_retry’
 1131 | static inline bool xa_is_retry(const void *entry)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1299:20: note: previous definition of ‘xa_is_retry’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1299 | static inline bool xa_is_retry(const void *entry)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1142:20: error: redefinition of ‘xa_is_advanced’
 1142 | static inline bool xa_is_advanced(const void *entry)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1310:20: note: previous definition of ‘xa_is_advanced’ with type ‘bool(const void *)’ {aka ‘_Bool(const void *)’}
 1310 | static inline bool xa_is_advanced(const void *entry)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1159:16: error: conflicting types for ‘xa_update_node_t’; have ‘void (*)(struct xa_node *)’
 1159 | typedef void (*xa_update_node_t)(struct xa_node *node);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1327:16: note: previous declaration of ‘xa_update_node_t’ with type ‘xa_update_node_t’ {aka ‘void (*)(struct xa_node *)’}
 1327 | typedef void (*xa_update_node_t)(struct xa_node *node);
      |                ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1178:8: error: redefinition of ‘struct xa_state’
 1178 | struct xa_state {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1348:8: note: originally defined here
 1348 | struct xa_state {
      |        ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1198:9: warning: ‘__XA_STATE’ redefined
 1198 | #define __XA_STATE(array, index, shift, sibs)  {        \
      |         ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1369:9: note: this is the location of the previous definition
 1369 | #define __XA_STATE(array, index, shift, sibs)  {        \
      |         ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1257:19: error: conflicting types for ‘xas_error’; have ‘int(const struct xa_state *)’
 1257 | static inline int xas_error(const struct xa_state *xas)
      |                   ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1429:19: note: previous definition of ‘xas_error’ with type ‘int(const struct xa_state *)’
 1429 | static inline int xas_error(const struct xa_state *xas)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1271:20: error: conflicting types for ‘xas_set_err’; have ‘void(struct xa_state *, long int)’
 1271 | static inline void xas_set_err(struct xa_state *xas, long err)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1443:20: note: previous definition of ‘xas_set_err’ with type ‘void(struct xa_state *, long int)’
 1443 | static inline void xas_set_err(struct xa_state *xas, long err)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1282:20: error: conflicting types for ‘xas_invalid’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1282 | static inline bool xas_invalid(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1454:20: note: previous definition of ‘xas_invalid’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1454 | static inline bool xas_invalid(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1293:20: error: conflicting types for ‘xas_valid’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1293 | static inline bool xas_valid(const struct xa_state *xas)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1465:20: note: previous definition of ‘xas_valid’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1465 | static inline bool xas_valid(const struct xa_state *xas)
      |                    ^~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device/driver.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device.h:32,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/dma-mapping.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/if_ether.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1304:20: error: conflicting types for ‘xas_is_node’; have ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1304 | static inline bool xas_is_node(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1476:20: note: previous definition of ‘xas_is_node’ with type ‘bool(const struct xa_state *)’ {aka ‘_Bool(const struct xa_state *)’}
 1476 | static inline bool xas_is_node(const struct xa_state *xas)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1310:20: error: conflicting types for ‘xas_not_node’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1310 | static inline bool xas_not_node(struct xa_node *node)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1482:20: note: previous definition of ‘xas_not_node’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1482 | static inline bool xas_not_node(struct xa_node *node)
      |                    ^~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1316:20: error: conflicting types for ‘xas_frozen’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1316 | static inline bool xas_frozen(struct xa_node *node)
      |                    ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1488:20: note: previous definition of ‘xas_frozen’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1488 | static inline bool xas_frozen(struct xa_node *node)
      |                    ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1322:20: error: conflicting types for ‘xas_top’; have ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1322 | static inline bool xas_top(struct xa_node *node)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1494:20: note: previous definition of ‘xas_top’ with type ‘bool(struct xa_node *)’ {aka ‘_Bool(struct xa_node *)’}
 1494 | static inline bool xas_top(struct xa_node *node)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1337:20: error: conflicting types for ‘xas_reset’; have ‘void(struct xa_state *)’
 1337 | static inline void xas_reset(struct xa_state *xas)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1509:20: note: previous definition of ‘xas_reset’ with type ‘void(struct xa_state *)’
 1509 | static inline void xas_reset(struct xa_state *xas)
      |                    ^~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.c:14:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1354:20: error: conflicting types for ‘xas_retry’; have ‘bool(struct xa_state *, const void *)’ {aka ‘_Bool(struct xa_state *, const void *)’}
 1354 | static inline bool xas_retry(struct xa_state *xas, const void *entry)
      |                    ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1526:20: note: previous definition of ‘xas_retry’ with type ‘bool(struct xa_state *, const void *)’ {aka ‘_Bool(struct xa_state *, const void *)’}
 1526 | static inline bool xas_retry(struct xa_state *xas, const void *entry)
      |                    ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1364:7: error: conflicting types for ‘xas_load’; have ‘void *(struct xa_state *)’
 1364 | void *xas_load(struct xa_state *);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1536:7: note: previous declaration of ‘xas_load’ with type ‘void *(struct xa_state *)’
 1536 | void *xas_load(struct xa_state *);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1365:7: error: conflicting types for ‘xas_store’; have ‘void *(struct xa_state *, void *)’
 1365 | void *xas_store(struct xa_state *, void *entry);
      |       ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1537:7: note: previous declaration of ‘xas_store’ with type ‘void *(struct xa_state *, void *)’
 1537 | void *xas_store(struct xa_state *, void *entry);
      |       ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1366:7: error: conflicting types for ‘xas_find’; have ‘void *(struct xa_state *, long unsigned int)’
 1366 | void *xas_find(struct xa_state *, unsigned long max);
      |       ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1538:7: note: previous declaration of ‘xas_find’ with type ‘void *(struct xa_state *, long unsigned int)’
 1538 | void *xas_find(struct xa_state *, unsigned long max);
      |       ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1367:7: error: conflicting types for ‘xas_find_conflict’; have ‘void *(struct xa_state *)’
 1367 | void *xas_find_conflict(struct xa_state *);
      |       ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1539:7: note: previous declaration of ‘xas_find_conflict’ with type ‘void *(struct xa_state *)’
 1539 | void *xas_find_conflict(struct xa_state *);
      |       ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1369:6: error: conflicting types for ‘xas_get_mark’; have ‘bool(const struct xa_state *, xa_mark_t)’ {aka ‘_Bool(const struct xa_state *, unsigned int)’}
 1369 | bool xas_get_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1541:6: note: previous declaration of ‘xas_get_mark’ with type ‘bool(const struct xa_state *, xa_mark_t)’ {aka ‘_Bool(const struct xa_state *, unsigned int)’}
 1541 | bool xas_get_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1370:6: error: conflicting types for ‘xas_set_mark’; have ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1370 | void xas_set_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1542:6: note: previous declaration of ‘xas_set_mark’ with type ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1542 | void xas_set_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1371:6: error: conflicting types for ‘xas_clear_mark’; have ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1371 | void xas_clear_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1543:6: note: previous declaration of ‘xas_clear_mark’ with type ‘void(const struct xa_state *, xa_mark_t)’ {aka ‘void(const struct xa_state *, unsigned int)’}
 1543 | void xas_clear_mark(const struct xa_state *, xa_mark_t);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1372:7: error: conflicting types for ‘xas_find_marked’; have ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1372 | void *xas_find_marked(struct xa_state *, unsigned long max, xa_mark_t);
      |       ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1544:7: note: previous declaration of ‘xas_find_marked’ with type ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1544 | void *xas_find_marked(struct xa_state *, unsigned long max, xa_mark_t);
      |       ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1373:6: error: conflicting types for ‘xas_init_marks’; have ‘void(const struct xa_state *)’
 1373 | void xas_init_marks(const struct xa_state *);
      |      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1545:6: note: previous declaration of ‘xas_init_marks’ with type ‘void(const struct xa_state *)’
 1545 | void xas_init_marks(const struct xa_state *);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1375:6: error: conflicting types for ‘xas_nomem’; have ‘bool(struct xa_state *, gfp_t)’ {aka ‘_Bool(struct xa_state *, unsigned int)’}
 1375 | bool xas_nomem(struct xa_state *, gfp_t);
      |      ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1547:6: note: previous declaration of ‘xas_nomem’ with type ‘bool(struct xa_state *, gfp_t)’ {aka ‘_Bool(struct xa_state *, unsigned int)’}
 1547 | bool xas_nomem(struct xa_state *, gfp_t);
      |      ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1376:6: error: conflicting types for ‘xas_pause’; have ‘void(struct xa_state *)’
 1376 | void xas_pause(struct xa_state *);
      |      ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1549:6: note: previous declaration of ‘xas_pause’ with type ‘void(struct xa_state *)’
 1549 | void xas_pause(struct xa_state *);
      |      ^~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1378:6: error: conflicting types for ‘xas_create_range’; have ‘void(struct xa_state *)’
 1378 | void xas_create_range(struct xa_state *);
      |      ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1551:6: note: previous declaration of ‘xas_create_range’ with type ‘void(struct xa_state *)’
 1551 | void xas_create_range(struct xa_state *);
      |      ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1394:21: error: conflicting types for ‘xas_reload’; have ‘void *(struct xa_state *)’
 1394 | static inline void *xas_reload(struct xa_state *xas)
      |                     ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1608:21: note: previous definition of ‘xas_reload’ with type ‘void *(struct xa_state *)’
 1608 | static inline void *xas_reload(struct xa_state *xas)
      |                     ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1412:20: error: conflicting types for ‘xas_set’; have ‘void(struct xa_state *, long unsigned int)’
 1412 | static inline void xas_set(struct xa_state *xas, unsigned long index)
      |                    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1637:20: note: previous definition of ‘xas_set’ with type ‘void(struct xa_state *, long unsigned int)’
 1637 | static inline void xas_set(struct xa_state *xas, unsigned long index)
      |                    ^~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1424:20: error: conflicting types for ‘xas_set_order’; have ‘void(struct xa_state *, long unsigned int,  unsigned int)’
 1424 | static inline void xas_set_order(struct xa_state *xas, unsigned long index,
      |                    ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1667:20: note: previous definition of ‘xas_set_order’ with type ‘void(struct xa_state *, long unsigned int,  unsigned int)’
 1667 | static inline void xas_set_order(struct xa_state *xas, unsigned long index,
      |                    ^~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1446:20: error: conflicting types for ‘xas_set_update’; have ‘void(struct xa_state *, void (*)(struct xa_node *))’
 1446 | static inline void xas_set_update(struct xa_state *xas, xa_update_node_t update)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1690:20: note: previous definition of ‘xas_set_update’ with type ‘void(struct xa_state *, void (*)(struct xa_node *))’
 1690 | static inline void xas_set_update(struct xa_state *xas, xa_update_node_t update)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1462:21: error: conflicting types for ‘xas_next_entry’; have ‘void *(struct xa_state *, long unsigned int)’
 1462 | static inline void *xas_next_entry(struct xa_state *xas, unsigned long max)
      |                     ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1711:21: note: previous definition of ‘xas_next_entry’ with type ‘void *(struct xa_state *, long unsigned int)’
 1711 | static inline void *xas_next_entry(struct xa_state *xas, unsigned long max)
      |                     ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1487:28: error: conflicting types for ‘xas_find_chunk’; have ‘unsigned int(struct xa_state *, bool,  xa_mark_t)’ {aka ‘unsigned int(struct xa_state *, _Bool,  unsigned int)’}
 1487 | static inline unsigned int xas_find_chunk(struct xa_state *xas, bool advance,
      |                            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1736:28: note: previous definition of ‘xas_find_chunk’ with type ‘unsigned int(struct xa_state *, bool,  xa_mark_t)’ {aka ‘unsigned int(struct xa_state *, _Bool,  unsigned int)’}
 1736 | static inline unsigned int xas_find_chunk(struct xa_state *xas, bool advance,
      |                            ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1519:21: error: conflicting types for ‘xas_next_marked’; have ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1519 | static inline void *xas_next_marked(struct xa_state *xas, unsigned long max,
      |                     ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1768:21: note: previous definition of ‘xas_next_marked’ with type ‘void *(struct xa_state *, long unsigned int,  xa_mark_t)’ {aka ‘void *(struct xa_state *, long unsigned int,  unsigned int)’}
 1768 | static inline void *xas_next_marked(struct xa_state *xas, unsigned long max,
      |                     ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1542:9: error: redeclaration of enumerator ‘XA_CHECK_SCHED’
 1542 |         XA_CHECK_SCHED = 4096,
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1795:9: note: previous definition of ‘XA_CHECK_SCHED’ with type ‘enum <anonymous>’
 1795 |         XA_CHECK_SCHED = 4096,
      |         ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1596:7: error: conflicting types for ‘__xas_next’; have ‘void *(struct xa_state *)’
 1596 | void *__xas_next(struct xa_state *);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1848:7: note: previous declaration of ‘__xas_next’ with type ‘void *(struct xa_state *)’
 1848 | void *__xas_next(struct xa_state *);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1597:7: error: conflicting types for ‘__xas_prev’; have ‘void *(struct xa_state *)’
 1597 | void *__xas_prev(struct xa_state *);
      |       ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1849:7: note: previous declaration of ‘__xas_prev’ with type ‘void *(struct xa_state *)’
 1849 | void *__xas_prev(struct xa_state *);
      |       ^~~~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1615:21: error: conflicting types for ‘xas_prev’; have ‘void *(struct xa_state *)’
 1615 | static inline void *xas_prev(struct xa_state *xas)
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1867:21: note: previous definition of ‘xas_prev’ with type ‘void *(struct xa_state *)’
 1867 | static inline void *xas_prev(struct xa_state *xas)
      |                     ^~~~~~~~
/home/lustredev/lustre-release/include/lustre_compat/linux/xarray.h:1644:21: error: conflicting types for ‘xas_next’; have ‘void *(struct xa_state *)’
 1644 | static inline void *xas_next(struct xa_state *xas)
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:1896:21: note: previous definition of ‘xas_next’ with type ‘void *(struct xa_state *)’
 1896 | static inline void *xas_next(struct xa_state *xas)
      |                     ^~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/selftest/console.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/api-ni.o] Error 1
make[8]: *** Waiting for unfinished jobs....
make[8]: *** Waiting for unfinished jobs....
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ptlrpc/client.o] Error 1
make[8]: *** Waiting for unfinished jobs....
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/config.o] Error 1
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25,
                 from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/obdclass/llog_cat.c:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/smp.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/lockdep.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mutex.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/proc_fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:46:18: error: redefinition of ‘struct file_operations’
   46 | #define proc_ops file_operations
      |                  ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/proc_fs.h:32:8: note: in expansion of macro ‘proc_ops’
   32 | struct proc_ops {
      |        ^~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:2129:8: note: originally defined here
 2129 | struct file_operations {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/linux/linux-prim.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: libcfs/libcfs] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: libcfs] Error 2
make[6]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lnet/selftest/conrpc.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.o] Error 1
make[9]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
In file included from lnet/klnds/socklnd/socklnd_cb.c:16:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from lustre/obdecho/debug.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdclass/llog_cat.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/obdclass] Error 2
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/lustre_fid.h:131,
                 from lustre/mgs/mgs_fs.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestamp’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/ptlrpc/recover.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:16: note: in expansion of macro ‘timespec64’
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:24,
                 from lnet/selftest/conrpc.c:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: error: storage size of ‘ts’ isn’t known
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: warning: unused variable ‘ts’ [-Wunused-variable]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:16: note: in expansion of macro ‘timespec64’
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: error: storage size of ‘ts’ isn’t known
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: warning: unused variable ‘ts’ [-Wunused-variable]
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:16: note: in expansion of macro ‘timespec64’
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: error: storage size of ‘ts’ isn’t known
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: warning: unused variable ‘ts’ [-Wunused-variable]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/eventfd.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/eventfd.h:39:60: note: in expansion of macro ‘wait_queue_entry_t’
   39 | int eventfd_ctx_remove_wait_queue(struct eventfd_ctx *ctx, wait_queue_entry_t *wait,
      |                                                            ^~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/selftest/conrpc.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lustre_fid.h:132:
/home/lustredev/lustre-release/lustre/include/lu_object.h: At top level:
/home/lustredev/lustre-release/lustre/include/lu_object.h:20:10: fatal error: stdarg.h: No such file or directory
   20 | #include <stdarg.h>
      |          ^~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgs/mgs_fs.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mgs] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25,
                 from lustre/ptlrpc/recover.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdecho/debug.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/obdecho] Error 2
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_cb.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from lnet/klnds/socklnd/socklnd.h:31:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h: In function ‘wait_on_inode’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:90:52: error: passing argument 2 of ‘prepare_to_wait_event’ from incompatible pointer type [-Wincompatible-pointer-types]
   90 |                                                    &__wbq_entry.wq_entry, \
      |                                                    ^~~~~~~~~~~~~~~~~~~~~
      |                                                    |
      |                                                    int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1198:86: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1198 | long prepare_to_wait_event(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry, int state);
      |                                                             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:102:32: error: passing argument 2 of ‘finish_wait’ from incompatible pointer type [-Wincompatible-pointer-types]
  102 |         finish_wait(__wq_head, &__wbq_entry.wq_entry);                  \
      |                                ^~~~~~~~~~~~~~~~~~~~~
      |                                |
      |                                int *
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:107:9: note: in expansion of macro ‘___wait_var_event’
  107 |         ___wait_var_event(var, condition, TASK_UNINTERRUPTIBLE, 0, 0,   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:115:9: note: in expansion of macro ‘__wait_var_event’
  115 |         __wait_var_event(var, condition);                               \
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/writeback.h:206:9: note: in expansion of macro ‘wait_var_event’
  206 |         wait_var_event(inode_state_wait_address(inode, __I_NEW),
      |         ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:1199:76: note: expected ‘struct wait_queue_entry *’ but argument is of type ‘int *’
 1199 | void finish_wait(struct wait_queue_head *wq_head, struct wait_queue_entry *wq_entry);
      |                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ptlrpc/recover.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ptlrpc] Error 2
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre] Error 2
In file included from lnet/selftest/conctl.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:11:27: error: conflicting types for ‘netdev_cmd_to_name’; have ‘const char *(long unsigned int)’
   11 | static inline const char *netdev_cmd_to_name(unsigned long cmd)
      |                           ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:3150:13: note: previous declaration of ‘netdev_cmd_to_name’ with type ‘const char *(enum netdev_cmd)’
 3150 | const char *netdev_cmd_to_name(enum netdev_cmd cmd);
      |             ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:61:9: warning: ‘NL_SET_BAD_ATTR’ redefined
   61 | #define NL_SET_BAD_ATTR(extack, attr)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/neighbour.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:44:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:150:9: note: this is the location of the previous definition
  150 | #define NL_SET_BAD_ATTR(extack, attr) NL_SET_BAD_ATTR_POLICY(extack, attr, NULL)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:74:8: error: redefinition of ‘struct netlink_ext_ack’
   74 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:82:8: note: originally defined here
   82 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:81:9: warning: ‘GENL_SET_ERR_MSG’ redefined
   81 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG(NULL, msg)
      |         ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:161:9: note: this is the location of the previous definition
  161 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG((info)->extack, msg)
      |         ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:88:16: error: too few arguments to function ‘nla_parse’; expected 6, have 5
   88 |         return nla_parse(tb, maxtype, head, len, policy);
      |                ^~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:682:19: note: declared here
  682 | static inline int nla_parse(struct nlattr **tb, int maxtype,
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse_nested’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:96:16: error: too few arguments to function ‘nla_parse_nested’; expected 5, have 4
   96 |         return nla_parse_nested(tb, maxtype, nla, policy);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:1314:19: note: declared here
 1314 | static inline int nla_parse_nested(struct nlattr *tb[], int maxtype,
      |                   ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lnet/selftest/conctl.c:20:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/in.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/in.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/netfilter.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netfilter_defs.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netns/netfilter.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device/driver.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device.h:32,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/dma-mapping.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lnet/lnet/nidstrings.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sunrpc/addr.h:11,
                 from lnet/lnet/nidstrings.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device/driver.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device.h:32,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/dma-mapping.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/tcp.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ipv6.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/ipv6.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sunrpc/addr.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tlbbatch.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types_task.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:42:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bvec.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bvec.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_cb.o] Error 1
make[9]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd.c:22:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17,
                 from lnet/klnds/socklnd/socklnd.c:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device/driver.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/device.h:32,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/dma-mapping.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/if_ether.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from lnet/lnet/nidstrings.c:18:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/nidstr.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/nidstr.h:15:10: fatal error: linux/lnet/lnet-types.h: No such file or directory
   15 | #include <linux/lnet/lnet-types.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/nidstrings.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/lnet] Error 2
make[7]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27,
                 from lnet/selftest/conctl.c:21:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.c:14:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/selftest/conctl.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/selftest] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_modparams.c:13:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from lnet/klnds/socklnd/socklnd.h:31:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_lib.c:11:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from lnet/klnds/socklnd/socklnd.h:31:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tlbbatch.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types_task.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tlbbatch.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types_task.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds/in-kernel-o2iblnd] Error 2
make[8]: *** Waiting for unfinished jobs....
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_modparams.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_proto.c:16:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:95:20: error: static declaration of ‘iov_iter_is_aligned’ follows non-static declaration
   95 | static inline bool iov_iter_is_aligned(const struct iov_iter *i,
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:289:6: note: previous declaration of ‘iov_iter_is_aligned’ with type ‘bool(const struct iov_iter *, unsigned int,  unsigned int)’ {aka ‘_Bool(const struct iov_iter *, unsigned int,  unsigned int)’}
  289 | bool iov_iter_is_aligned(const struct iov_iter *i, unsigned addr_mask,
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:130:20: error: static declaration of ‘kernel_param_unlock’ follows non-static declaration
  130 | static inline void kernel_param_unlock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22,
                 from lnet/klnds/socklnd/socklnd.h:31:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:309:13: note: previous declaration of ‘kernel_param_unlock’ with type ‘void(struct module *)’
  309 | extern void kernel_param_unlock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:132:9: error: implicit declaration of function ‘__kernel_param_unlock’; did you mean ‘kernel_param_unlock’? [-Wimplicit-function-declaration]
  132 |         __kernel_param_unlock();
      |         ^~~~~~~~~~~~~~~~~~~~~
      |         kernel_param_unlock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:135:20: error: static declaration of ‘kernel_param_lock’ follows non-static declaration
  135 | static inline void kernel_param_lock(struct module *mod)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:308:13: note: previous declaration of ‘kernel_param_lock’ with type ‘void(struct module *)’
  308 | extern void kernel_param_lock(struct module *mod);
      |             ^~~~~~~~~~~~~~~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_lib.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kernel_param_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:137:9: error: implicit declaration of function ‘__kernel_param_lock’; did you mean ‘kernel_param_lock’? [-Wimplicit-function-declaration]
  137 |         __kernel_param_lock();
      |         ^~~~~~~~~~~~~~~~~~~
      |         kernel_param_lock
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:156:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  156 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:158:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  158 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tlbbatch.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types_task.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:192:9: warning: ‘task_is_running’ redefined
  192 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:205:1: error: redefinition of ‘rb_find’
  205 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:231:1: error: redefinition of ‘rb_add’
  231 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:259:1: error: redefinition of ‘rb_find_add’
  259 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:330:23: note: in expansion of macro ‘strscpy’
  330 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:25:8: error: redefinition of ‘struct wait_bit_queue_entry’
   25 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:27:9: note: in expansion of macro ‘wait_queue_entry_t’
   27 |         wait_queue_entry_t      wq_entry;
      |         ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:30:9: warning: ‘___wait_is_interruptible’ redefined
   30 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:38:35: note: in expansion of macro ‘wait_queue_entry_t’
   38 |                                   wait_queue_entry_t *wq_entry, int state);
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:63:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   63 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:74:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   74 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:79:9: warning: ‘___wait_var_event’ redefined
   79 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:131:9: warning: ‘__wait_var_event_timeout’ redefined
  131 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:136:9: warning: ‘wait_var_event_timeout’ redefined
  136 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:168:35: note: in expansion of macro ‘wait_queue_entry_t’
  168 |         wait_queue_head_t *waitq, wait_queue_entry_t *link)
      |                                   ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:582:17: note: in expansion of macro ‘wait_queue_entry_t’
  582 | long wait_woken(wait_queue_entry_t *wait, unsigned int mode, long timeout);
      |                 ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:28: error: unknown type name ‘wait_queue_t’; did you mean ‘wait_event’?
   17 | #define wait_queue_entry_t wait_queue_t
      |                            ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:583:25: note: in expansion of macro ‘wait_queue_entry_t’
  583 | int woken_wake_function(wait_queue_entry_t *wait, unsigned int mode,
      |                         ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_proto.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds/socklnd] Error 2
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds] Error 2
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet] Error 2
make[5]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/Makefile:2043: .] Error 2
make[4]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/Makefile:260: __sub-make] Error 2
make[3]: *** [Makefile:260: __sub-make] Error 2
make[2]: *** [autoMakefile:1706: modules] Error 2
make[1]: *** [autoMakefile:750: all-recursive] Error 1
make: *** [autoMakefile:600: all] Error 2
