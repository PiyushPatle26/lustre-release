make  all-recursive
make[1]: Entering directory '/home/lustredev/lustre-release'
Making all in .
make[2]: Entering directory '/home/lustredev/lustre-release'
make sources -C lnet/klnds/in-kernel-o2iblnd || exit $?
make[3]: Entering directory '/home/lustredev/lustre-release/lnet/klnds/in-kernel-o2iblnd'
make[3]: Nothing to be done for 'sources'.
make[3]: Leaving directory '/home/lustredev/lustre-release/lnet/klnds/in-kernel-o2iblnd'
echo "Making modules in top-level tree"; \
make   -C /lib/modules/6.15.3-200.fc42.x86_64/build  M=/home/lustredev/lustre-release "CFLAGS_MODULE=-I/home/lustredev/lustre-release/libcfs/include -I/home/lustredev/lustre-release/lnet/include -I/home/lustredev/lustre-release/lustre/include -I/home/lustredev/lustre-release/include" modules
Making modules in top-level tree
make[3]: Entering directory '/usr/src/kernels/6.15.3-200.fc42.x86_64'
make[4]: Entering directory '/home/lustredev/lustre-release'
  CC [M]  lustre/fid/lproc_fid.o
  CC [M]  lnet/lnet/api-ni.o
  CC [M]  lustre/fid/fid_request.o
  CC [M]  lustre/obdclass/llog.o
  CC [M]  lnet/selftest/console.o
  CC [M]  lustre/obdecho/echo_client.o
  CC [M]  lustre/mgc/mgc_request.o
  CC [M]  libcfs/libcfs/linux/linux-prim.o
  CC [M]  lustre/ec/ec_base.o
  CC [M]  lustre/mdt/mdt_handler.o
  CC [M]  lustre/mgs/mgs_handler.o
  CC [M]  lustre/ptlrpc/client.o
  CC [M]  lustre/mdd/mdd_acl.o
  CC [M]  lustre/ofd/ofd_dev.o
  CC [M]  lustre/kunit/kinode.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd.o
  CC [M]  lnet/klnds/socklnd/socklnd.o
  CC [M]  lustre/obdecho/debug.o
  CC [M]  lnet/lnet/config.o
  CC [M]  lnet/klnds/socklnd/socklnd_cb.o
  CC [M]  lustre/mdt/mdt_lib.o
  CC [M]  lustre/mgs/mgs_fs.o
  CC [M]  lustre/ptlrpc/recover.o
  CC [M]  lustre/ofd/ofd_obd.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.o
  CC [M]  libcfs/libcfs/linux/linux-wait.o
  CC [M]  lnet/selftest/conrpc.o
  CC [M]  lnet/klnds/socklnd/socklnd_lib.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.o
  CC [M]  lnet/klnds/socklnd/socklnd_modparams.o
  CC [M]  lnet/klnds/socklnd/socklnd_proto.o
make[4]: Leaving directory '/home/lustredev/lustre-release'
make[3]: Leaving directory '/usr/src/kernels/6.15.3-200.fc42.x86_64'
make[2]: Leaving directory '/home/lustredev/lustre-release'
make[1]: Leaving directory '/home/lustredev/lustre-release'
~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/fid/fid_request.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/lustre/include/llog_swab.h:32,
                 from lustre/obdclass/llog.c:28:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
lustre/kunit/kinode.c:29:10: fatal error: config.h: No such file or directory
   29 | #include <config.h>
      |          ^~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdclass/llog.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/obdclass] Error 2
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/kunit/kinode.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/kunit] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:29,
                 from lustre/mgc/mgc_request.c:22:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/mgs/mgs_handler.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from lustre/mgc/mgc_request.c:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/smp.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/lockdep.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mutex.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/ofd/ofd_dev.c:51:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/smp.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/lockdep.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mutex.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/ec/ec_base.c:33:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
In file included from lustre/ec/ec_base.c:32:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/obdecho/echo_client.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:5,
                 from lustre/obdecho/echo_client.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/fid/lproc_fid.c:20:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/workqueue.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lnet/selftest/console.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/dt_object.h:28,
                 from lustre/mdt/mdt_handler.c:29:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from lustre/mdt/mdt_handler.c:26:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgc/mgc_request.o] Error 1
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mgc] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:24,
                 from lustre/obdecho/echo_client.c:20:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdecho/echo_client.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:24,
                 from lustre/fid/lproc_fid.c:22:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h: At top level:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/fid/lproc_fid.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/fid] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ec/ec_base.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ec] Error 2
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgs/mgs_handler.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:31,
                 from libcfs/libcfs/linux/linux-prim.c:31:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from libcfs/libcfs/linux/linux-prim.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/include/lustre_compat/linux/shrinker.h:9,
                 from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ofd/ofd_dev.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
make[8]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from lnet/lnet/api-ni.c:24:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:11:27: error: conflicting types for ‘netdev_cmd_to_name’; have ‘const char *(long unsigned int)’
   11 | static inline const char *netdev_cmd_to_name(unsigned long cmd)
      |                           ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:3150:13: note: previous declaration of ‘netdev_cmd_to_name’ with type ‘const char *(enum netdev_cmd)’
 3150 | const char *netdev_cmd_to_name(enum netdev_cmd cmd);
      |             ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:61:9: warning: ‘NL_SET_BAD_ATTR’ redefined
   61 | #define NL_SET_BAD_ATTR(extack, attr)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:6,
                 from lnet/lnet/api-ni.c:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:150:9: note: this is the location of the previous definition
  150 | #define NL_SET_BAD_ATTR(extack, attr) NL_SET_BAD_ATTR_POLICY(extack, attr, NULL)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:74:8: error: redefinition of ‘struct netlink_ext_ack’
   74 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:82:8: note: originally defined here
   82 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:81:9: warning: ‘GENL_SET_ERR_MSG’ redefined
   81 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG(NULL, msg)
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:161:9: note: this is the location of the previous definition
  161 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG((info)->extack, msg)
      |         ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:88:16: error: too few arguments to function ‘nla_parse’; expected 6, have 5
   88 |         return nla_parse(tb, maxtype, head, len, policy);
      |                ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:682:19: note: declared here
  682 | static inline int nla_parse(struct nlattr **tb, int maxtype,
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse_nested’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:96:16: error: too few arguments to function ‘nla_parse_nested’; expected 5, have 4
   96 |         return nla_parse_nested(tb, maxtype, nla, policy);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:1314:19: note: declared here
 1314 | static inline int nla_parse_nested(struct nlattr *tb[], int maxtype,
      |                   ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from /home/lustredev/lustre-release/lnet/include/lnet/udsp.h:18,
                 from lnet/lnet/api-ni.c:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from lnet/lnet/api-ni.c:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from lnet/lnet/api-ni.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/net.h:23,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestamp’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:16: note: in expansion of macro ‘timespec64’
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:24,
                 from lnet/selftest/console.c:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: error: storage size of ‘ts’ isn’t known
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: warning: unused variable ‘ts’ [-Wunused-variable]
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:16: note: in expansion of macro ‘timespec64’
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: error: storage size of ‘ts’ isn’t known
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: warning: unused variable ‘ts’ [-Wunused-variable]
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:16: note: in expansion of macro ‘timespec64’
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: error: storage size of ‘ts’ isn’t known
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: warning: unused variable ‘ts’ [-Wunused-variable]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mdt/mdt_handler.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/api-ni.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25,
                 from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lustre/ptlrpc/client.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/in.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/in.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/netfilter.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netfilter_defs.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netns/netfilter.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/delay.h:13,
                 from lustre/ptlrpc/client.c:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:42:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bvec.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/delay.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/proc_fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:46:18: error: redefinition of ‘struct file_operations’
   46 | #define proc_ops file_operations
      |                  ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/proc_fs.h:32:8: note: in expansion of macro ‘proc_ops’
   32 | struct proc_ops {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:2129:8: note: originally defined here
 2129 | struct file_operations {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/linux/linux-prim.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ptlrpc/client.o] Error 1
make[8]: *** Waiting for unfinished jobs....
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/selftest/console.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:11:27: error: conflicting types for ‘netdev_cmd_to_name’; have ‘const char *(long unsigned int)’
   11 | static inline const char *netdev_cmd_to_name(unsigned long cmd)
      |                           ^~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/inetdevice.h:10,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:3150:13: note: previous declaration of ‘netdev_cmd_to_name’ with type ‘const char *(enum netdev_cmd)’
 3150 | const char *netdev_cmd_to_name(enum netdev_cmd cmd);
      |             ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:61:9: warning: ‘NL_SET_BAD_ATTR’ redefined
   61 | #define NL_SET_BAD_ATTR(extack, attr)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:19,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:150:9: note: this is the location of the previous definition
  150 | #define NL_SET_BAD_ATTR(extack, attr) NL_SET_BAD_ATTR_POLICY(extack, attr, NULL)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:74:8: error: redefinition of ‘struct netlink_ext_ack’
   74 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:82:8: note: originally defined here
   82 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:81:9: warning: ‘GENL_SET_ERR_MSG’ redefined
   81 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG(NULL, msg)
      |         ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:161:9: note: this is the location of the previous definition
  161 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG((info)->extack, msg)
      |         ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:88:16: error: too few arguments to function ‘nla_parse’; expected 6, have 5
   88 |         return nla_parse(tb, maxtype, head, len, policy);
      |                ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/rtnetlink.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/neighbour.h:31,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/dst.h:20,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/sock.h:66,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/tcp.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ipv6.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/ipv6.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sunrpc/addr.h:14,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:682:19: note: declared here
  682 | static inline int nla_parse(struct nlattr **tb, int maxtype,
      |                   ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h: In function ‘cfs_nla_parse_nested’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:96:16: error: too few arguments to function ‘nla_parse_nested’; expected 5, have 4
   96 |         return nla_parse_nested(tb, maxtype, nla, policy);
      |                ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:1314:19: note: declared here
 1314 | static inline int nla_parse_nested(struct nlattr *tb[], int maxtype,
      |                   ^~~~~~~~~~~~~~~~
In file included from libcfs/libcfs/linux/linux-wait.c:11:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:22:33: error: field ‘key’ has incomplete type
   22 |         struct wait_bit_key     key;
      |                                 ^~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘clear_and_wake_up_bit’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:64:9: error: implicit declaration of function ‘wake_up_bit’; did you mean ‘wake_up_nr’? [-Wimplicit-function-declaration]
   64 |         wake_up_bit(word, bit);
      |         ^~~~~~~~~~~
      |         wake_up_nr
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/build_bug.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/current.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:12,
                 from libcfs/libcfs/linux/linux-wait.c:7:
libcfs/libcfs/linux/linux-wait.c: In function ‘prepare_to_wait_event’:
libcfs/libcfs/linux/linux-wait.c:22:22: error: implicit declaration of function ‘signal_pending_state’ [-Wimplicit-function-declaration]
   22 |         if (unlikely(signal_pending_state(state, current))) {
      |                      ^~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compiler.h:77:45: note: in definition of macro ‘unlikely’
   77 | # define unlikely(x)    __builtin_expect(!!(x), 0)
      |                                             ^
libcfs/libcfs/linux/linux-wait.c:35:40: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   35 |                 list_del_init(&wq_entry->task_list);
      |                                        ^~
libcfs/libcfs/linux/linux-wait.c:38:41: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   38 |                 if (list_empty(&wq_entry->task_list)) {
      |                                         ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:37: error: implicit declaration of function ‘__add_wait_queue_tail’; did you mean ‘__add_wait_queue’? [-Wimplicit-function-declaration]
   17 | #define __add_wait_queue_entry_tail __add_wait_queue_tail
      |                                     ^~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:40:33: note: in expansion of macro ‘__add_wait_queue_entry_tail’
   40 |                                 __add_wait_queue_entry_tail(wq_head, wq_entry);
      |                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c: In function ‘__var_waitqueue’:
libcfs/libcfs/linux/linux-wait.c:62:33: error: implicit declaration of function ‘hash_ptr’; did you mean ‘si_ptr’? [-Wimplicit-function-declaration]
   62 |         return bit_wait_table + hash_ptr(p, WAIT_TABLE_BITS);
      |                                 ^~~~~~~~
      |                                 si_ptr
libcfs/libcfs/linux/linux-wait.c: In function ‘var_wake_function’:
libcfs/libcfs/linux/linux-wait.c:74:40: error: invalid use of undefined type ‘struct wait_bit_key’
   74 |         if (wbq_entry->key.flags != key->flags ||
      |                                        ^~
libcfs/libcfs/linux/linux-wait.c:75:41: error: invalid use of undefined type ‘struct wait_bit_key’
   75 |             wbq_entry->key.bit_nr != key->bit_nr)
      |                                         ^~
libcfs/libcfs/linux/linux-wait.c: In function ‘init_wait_var_entry’:
libcfs/libcfs/linux/linux-wait.c:95:26: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/random.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nodemask.h:97,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/numa.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:13:
libcfs/libcfs/linux/linux-wait.c:95:72: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                                                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:34: note: in definition of macro ‘LIST_HEAD_INIT’
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                  ^~~~
libcfs/libcfs/linux/linux-wait.c:95:72: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                                                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:43: note: in definition of macro ‘LIST_HEAD_INIT’
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                           ^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from lustre/obdecho/debug.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
libcfs/libcfs/linux/linux-wait.c: In function ‘wake_up_var’:
libcfs/libcfs/linux/linux-wait.c:104:9: error: implicit declaration of function ‘__wake_up_bit’; did you mean ‘__wake_up_sync’? [-Wimplicit-function-declaration]
  104 |         __wake_up_bit(__var_waitqueue(var), var, -1);
      |         ^~~~~~~~~~~~~
      |         __wake_up_sync
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/linux/linux-wait.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: libcfs/libcfs] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: libcfs] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
make[6]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd.c:22:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17,
                 from lnet/klnds/socklnd/socklnd.c:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd.o] Error 1
make[9]: *** Waiting for unfinished jobs....
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
In file included from lnet/klnds/socklnd/socklnd_cb.c:16:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/mdt/mdt_internal.h:26,
                 from lustre/mdt/mdt_lib.c:29:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:5,
                 from lustre/mdt/mdt_lib.c:26:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:28,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd.o] Error 1
make[9]: *** Waiting for unfinished jobs....
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/workqueue.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:24,
                 from lustre/ofd/ofd_internal.h:17,
                 from lustre/ofd/ofd_obd.c:25:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdecho/debug.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/obdecho] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lustre/ptlrpc/recover.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ofd/ofd_obd.o] Error 1
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ofd] Error 2
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/lnet/config.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17,
                 from lnet/lnet/config.c:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/refcount.h:104,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:5,
                 from lnet/lnet/config.c:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/irqflags.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/irqflags.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/spinlock.h:59,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nsproxy.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/upcall_cache.h:18,
                 from lustre/mdt/mdt_internal.h:28:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lustre/include/lustre_fid.h:131,
                 from lustre/mgs/mgs_fs.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mdt/mdt_lib.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:10:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mdt] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/config.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/lnet] Error 2
make[7]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25,
                 from lustre/ptlrpc/recover.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:23:10: warning: ‘topology_sibling_cpumask’ redefined
   23 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lustre_fid.h:132:
/home/lustredev/lustre-release/lustre/include/lu_object.h: At top level:
/home/lustredev/lustre-release/lustre/include/lu_object.h:20:10: fatal error: stdarg.h: No such file or directory
   20 | #include <stdarg.h>
      |          ^~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgs/mgs_fs.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mgs] Error 2
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:27:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   27 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:28:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   28 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from lnet/selftest/conrpc.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:26:30: error: redefinition of ‘file_dentry’
   26 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ptlrpc/recover.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ptlrpc] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre] Error 2
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestamp’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:16: note: in expansion of macro ‘timespec64’
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:24,
                 from lnet/selftest/conrpc.c:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: error: storage size of ‘ts’ isn’t known
 4300 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4300:27: warning: unused variable ‘ts’ [-Wunused-variable]
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:16: note: in expansion of macro ‘timespec64’
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: error: storage size of ‘ts’ isn’t known
 4309 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4309:27: warning: unused variable ‘ts’ [-Wunused-variable]
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h: In function ‘skb_get_new_timestampns’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:41:21: error: variable ‘ts’ has initializer but incomplete type
   41 | # define timespec64 timespec
      |                     ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:16: note: in expansion of macro ‘timespec64’
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                ^~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: error: storage size of ‘ts’ isn’t known
 4318 |         struct timespec64 ts = ktime_to_timespec64(skb->tstamp);
      |                           ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:4318:27: warning: unused variable ‘ts’ [-Wunused-variable]
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_cb.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/selftest/conrpc.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/selftest] Error 2
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_cb.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.c:14:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_lib.c:11:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tlbbatch.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types_task.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.c:14:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:22,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/stat.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/task.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/signal.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rcuwait.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu-rwsem.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:34:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_lib.o] Error 1
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds/in-kernel-o2iblnd] Error 2
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_modparams.c:13:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tlbbatch.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types_task.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:25,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_proto.c:16:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:111:19: error: conflicting types for ‘kref_read’; have ‘int(const struct kref *)’
  111 | static inline int kref_read(const struct kref *kref)
      |                   ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kref.h:34:28: note: previous definition of ‘kref_read’ with type ‘unsigned int(const struct kref *)’
   34 | static inline unsigned int kref_read(const struct kref *kref)
      |                            ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: In function ‘kref_read’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:113:28: error: passing argument 1 of ‘atomic_read’ from incompatible pointer type [-Wincompatible-pointer-types]
  113 |         return atomic_read(&kref->refcount);
      |                            ^~~~~~~~~~~~~~~
      |                            |
      |                            const refcount_t * {aka const struct refcount_struct *}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic.h:82,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tlbbatch.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types_task.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/atomic/atomic-instrumented.h:30:29: note: expected ‘const atomic_t *’ but argument is of type ‘const refcount_t *’ {aka ‘const struct refcount_struct *’}
   30 | atomic_read(const atomic_t *v)
      |             ~~~~~~~~~~~~~~~~^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:147:9: warning: ‘task_is_running’ redefined
  147 | #define task_is_running(task)           (task->state == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/percpu.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/msr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/tsc.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/timex.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timex.h:67,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time32.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:60,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/jiffies.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:25,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timer.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uprobes.h:18,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:146:9: note: this is the location of the previous definition
  146 | #define task_is_running(task)           (READ_ONCE((task)->__state) == TASK_RUNNING)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:162:1: error: redefinition of ‘rb_find’
  162 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:329:1: note: previous definition of ‘rb_find’ with type ‘struct rb_node *(const void *, const struct rb_root *, int (*)(const void *, const struct rb_node *))’
  329 | rb_find(const void *key, const struct rb_root *tree,
      | ^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:188:1: error: redefinition of ‘rb_add’
  188 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:195:1: note: previous definition of ‘rb_add’ with type ‘void(struct rb_node *, struct rb_root *, bool (*)(struct rb_node *, const struct rb_node *))’ {aka ‘void(struct rb_node *, struct rb_root *, _Bool (*)(struct rb_node *, const struct rb_node *))’}
  195 | rb_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:216:1: error: redefinition of ‘rb_find_add’
  216 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/rbtree.h:260:1: note: previous definition of ‘rb_find_add’ with type ‘struct rb_node *(struct rb_node *, struct rb_root *, int (*)(struct rb_node *, const struct rb_node *))’
  260 | rb_find_add(struct rb_node *node, struct rb_root *tree,
      | ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:13,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:83:38: error: expected ‘;’, ‘,’ or ‘)’ before ‘+’ token
   83 |         sized_strscpy(dst, src, size + __must_be_cstr(dst) + __must_be_cstr(src))
      |                                      ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:25:24: note: in expansion of macro ‘__strscpy1’
   25 | #define __CONCAT(a, b) a ## b
      |                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/args.h:26:27: note: in expansion of macro ‘__CONCAT’
   26 | #define CONCATENATE(a, b) __CONCAT(a, b)
      |                           ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/string.h:114:9: note: in expansion of macro ‘CONCATENATE’
  114 |         CONCATENATE(__strscpy, COUNT_ARGS(__VA_ARGS__))(dst, src, __VA_ARGS__)
      |         ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-misc.h:289:23: note: in expansion of macro ‘strscpy’
  289 | static inline ssize_t strscpy(char *s1, const char *s2, size_t sz)
      |                       ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:34:28: error: redefinition of ‘memalloc_noreclaim_save’
   34 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:425:28: note: previous definition of ‘memalloc_noreclaim_save’ with type ‘unsigned int(void)’
  425 | static inline unsigned int memalloc_noreclaim_save(void)
      |                            ^~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:42:20: error: redefinition of ‘memalloc_noreclaim_restore’
   42 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched/mm.h:438:20: note: previous definition of ‘memalloc_noreclaim_restore’ with type ‘void(unsigned int)’
  438 | static inline void memalloc_noreclaim_restore(unsigned int flags)
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:49:30: error: static declaration of ‘bitmap_alloc’ follows non-static declaration
   49 | static inline unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:132:16: note: previous declaration of ‘bitmap_alloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  132 | unsigned long *bitmap_alloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:55:30: error: static declaration of ‘bitmap_zalloc’ follows non-static declaration
   55 | static inline unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags)
      |                              ^~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:133:16: note: previous declaration of ‘bitmap_zalloc’ with type ‘long unsigned int *(unsigned int,  gfp_t)’ {aka ‘long unsigned int *(unsigned int,  unsigned int)’}
  133 | unsigned long *bitmap_zalloc(unsigned int nbits, gfp_t flags);
      |                ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:60:20: error: static declaration of ‘bitmap_free’ follows non-static declaration
   60 | static inline void bitmap_free(const unsigned long *bitmap)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bitmap.h:136:6: note: previous declaration of ‘bitmap_free’ with type ‘void(const long unsigned int *)’
  136 | void bitmap_free(const unsigned long *bitmap);
      |      ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:74:20: error: redefinition of ‘mmap_write_lock’
   74 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:125:20: note: previous definition of ‘mmap_write_lock’ with type ‘void(struct mm_struct *)’
  125 | static inline void mmap_write_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:76:25: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   76 |         down_write(&mm->mmap_sem);
      |                         ^~~~~~~~
      |                         mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:81:40: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   81 |         return down_write_trylock(&mm->mmap_sem) != 0;
      |                                        ^~~~~~~~
      |                                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:84:20: error: redefinition of ‘mmap_write_unlock’
   84 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:167:20: note: previous definition of ‘mmap_write_unlock’ with type ‘void(struct mm_struct *)’
  167 | static inline void mmap_write_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_write_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:86:23: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   86 |         up_write(&mm->mmap_sem);
      |                       ^~~~~~~~
      |                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:89:20: error: redefinition of ‘mmap_read_lock’
   89 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:181:20: note: previous definition of ‘mmap_read_lock’ with type ‘void(struct mm_struct *)’
  181 | static inline void mmap_read_lock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_lock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:91:24: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   91 |         down_read(&mm->mmap_sem);
      |                        ^~~~~~~~
      |                        mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:94:20: error: redefinition of ‘mmap_read_trylock’
   94 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:198:20: note: previous definition of ‘mmap_read_trylock’ with type ‘bool(struct mm_struct *)’ {aka ‘_Bool(struct mm_struct *)’}
  198 | static inline bool mmap_read_trylock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_trylock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:96:39: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
   96 |         return down_read_trylock(&mm->mmap_sem) != 0;
      |                                       ^~~~~~~~
      |                                       mmap_base
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:99:20: error: redefinition of ‘mmap_read_unlock’
   99 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmap_lock.h:208:20: note: previous definition of ‘mmap_read_unlock’ with type ‘void(struct mm_struct *)’
  208 | static inline void mmap_read_unlock(struct mm_struct *mm)
      |                    ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h: In function ‘mmap_read_unlock’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:101:22: error: ‘struct mm_struct’ has no member named ‘mmap_sem’; did you mean ‘mmap_base’?
  101 |         up_read(&mm->mmap_sem);
      |                      ^~~~~~~~
      |                      mmap_base
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:78: error: parameter 1 (‘ts’) has incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                                        ~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: return type is an incomplete type
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:45:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   45 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:43:33: note: declared here
   43 | static inline struct timespec64 timespec_to_timespec64(const struct timespec ts)
      |                                 ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:78: error: parameter 1 (‘ts’) has incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                                                      ~~~~~~~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: return type is an incomplete type
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: error: function declaration isn’t a prototype [-Werror=strict-prototypes]
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_to_timespec’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:50:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   50 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:48:31: note: declared here
   48 | static inline struct timespec timespec64_to_timespec(const struct timespec64 ts)
      |                               ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: return type is an incomplete type
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: error: conflicting types for ‘ns_to_timespec64’; have ‘void(const s64)’ {aka ‘void(const long long int)’}
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:153:26: note: previous declaration of ‘ns_to_timespec64’ with type ‘struct timespec64(s64)’ {aka ‘struct timespec64(long long int)’}
  153 | extern struct timespec64 ns_to_timespec64(s64 nsec);
      |                          ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ns_to_timespec64’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: error: storage size of ‘ts’ isn’t known
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:45: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: warning: excess elements in struct initializer
   87 |                 return (struct timespec64) {0, 0};
      |                                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:48: note: (near initialization for ‘(anonymous)’)
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:44: error: invalid use of undefined type ‘struct timespec’
   87 |                 return (struct timespec64) {0, 0};
      |                                            ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:87:24: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   87 |                 return (struct timespec64) {0, 0};
      |                        ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:96:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
   96 |         return ts;
      |                ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:81:33: note: declared here
   81 | static inline struct timespec64 ns_to_timespec64(const s64 nsec)
      |                                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:83:27: warning: unused variable ‘ts’ [-Wunused-variable]
   83 |         struct timespec64 ts;
      |                           ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:101:10: warning: ‘ktime_add’ redefined
  101 | # define ktime_add(lhs, rhs) ({ (ktime_t){ .tv64 = (lhs).tv64 + (rhs).tv64 }; })
      |          ^~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:48:9: note: this is the location of the previous definition
   48 | #define ktime_add(lhs, rhs)     ((lhs) + (rhs))
      |         ^~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:20: error: redefinition of ‘ktime_after’
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:109:20: note: previous definition of ‘ktime_after’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  109 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_after’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:20: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:107:32: error: request for member ‘tv64’ in something not a structure or union
  107 |         return cmp1.tv64 > cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:46: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:105:66: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  105 | static inline bool ktime_after(const ktime_t cmp1, const ktime_t cmp2)
      |                                                    ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:20: error: redefinition of ‘ktime_before’
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:121:20: note: previous definition of ‘ktime_before’ with type ‘bool(const ktime_t,  const ktime_t)’ {aka ‘_Bool(const long long int,  const long long int)’}
  121 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                    ^~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_before’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:20: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                    ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:114:32: error: request for member ‘tv64’ in something not a structure or union
  114 |         return cmp1.tv64 < cmp2.tv64;
      |                                ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:112:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  112 | static inline bool ktime_before(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:19: error: redefinition of ‘ktime_compare’
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:93:19: note: previous definition of ‘ktime_compare’ with type ‘int(const ktime_t,  const ktime_t)’ {aka ‘int(const long long int,  const long long int)’}
   93 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                   ^~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘ktime_compare’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:17: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:121:29: error: request for member ‘tv64’ in something not a structure or union
  121 |         if (cmp1.tv64 < cmp2.tv64)
      |                             ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:17: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                 ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:123:29: error: request for member ‘tv64’ in something not a structure or union
  123 |         if (cmp1.tv64 > cmp2.tv64)
      |                             ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:47: warning: parameter ‘cmp1’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                 ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:119:67: warning: parameter ‘cmp2’ set but not used [-Wunused-but-set-parameter]
  119 | static inline int ktime_compare(const ktime_t cmp1, const ktime_t cmp2)
      |                                                     ~~~~~~~~~~~~~~^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:130:6: error: conflicting types for ‘ktime_get_ts64’; have ‘void(struct timespec *)’
  130 | void ktime_get_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:235:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:43:13: note: previous declaration of ‘ktime_get_ts64’ with type ‘void(struct timespec64 *)’
   43 | extern void ktime_get_ts64(struct timespec64 *ts);
      |             ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:134:6: error: conflicting types for ‘ktime_get_real_ts64’; have ‘void(struct timespec *)’
  134 | void ktime_get_real_ts64(struct timespec64 *ts);
      |      ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/timekeeping.h:44:13: note: previous declaration of ‘ktime_get_real_ts64’ with type ‘void(struct timespec64 *)’
   44 | extern void ktime_get_real_ts64(struct timespec64 *tv);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:160:19: error: redefinition of ‘ktime_ms_delta’
  160 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:172:19: note: previous definition of ‘ktime_ms_delta’ with type ‘s64(const ktime_t,  const ktime_t)’ {aka ‘long long int(const long long int,  const long long int)’}
  172 | static inline s64 ktime_ms_delta(const ktime_t later, const ktime_t earlier)
      |                   ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:75:58: error: expected declaration specifiers or ‘...’ before ‘(’ token
   75 | #define ktime_to_timespec64(kt)         ns_to_timespec64((kt))
      |                                                          ^
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:167:33: note: in expansion of macro ‘ktime_to_timespec64’
  167 | static inline struct timespec64 ktime_to_timespec64(ktime_t kt)
      |                                 ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:34: error: parameter 1 (‘later’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                ~~~~~~~~~~~~~~~~~~^~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:59: error: parameter 2 (‘earlier’) has incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      |                                         ~~~~~~~~~~~~~~~~~~^~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: return type is an incomplete type
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: error: conflicting types for ‘timespec64_sub’; have ‘void()’
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/time64.h:85:33: note: previous definition of ‘timespec64_sub’ with type ‘struct timespec64(struct timespec64,  struct timespec64)’
   85 | static inline struct timespec64 timespec64_sub(struct timespec64 lhs,
      |                                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: In function ‘timespec64_sub’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: error: storage size of ‘diff’ isn’t known
  179 |         struct timespec diff;
      |                         ^~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_modparams.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:181:16: error: implicit declaration of function ‘timespec_sub’; did you mean ‘timespec64_sub’? [-Wimplicit-function-declaration]
  181 |         diff = timespec_sub(timespec64_to_timespec(later),
      |                ^~~~~~~~~~~~
      |                timespec64_sub
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:183:16: error: ‘return’ with a value, in function returning void [-Wreturn-mismatch]
  183 |         return timespec_to_timespec64(diff);
      |                ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:177:1: note: declared here
  177 | timespec64_sub(struct timespec64 later, struct timespec64 earlier)
      | ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:179:25: warning: unused variable ‘diff’ [-Wunused-variable]
  179 |         struct timespec diff;
      |                         ^~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:61: error: parameter 1 (‘ts’) has incomplete type
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                                           ~~~~~~~~~~~~~~~~~~^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-time.h:188:23: error: redefinition of ‘timespec64_to_ktime’
  188 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ktime.h:69:23: note: previous definition of ‘timespec64_to_ktime’ with type ‘ktime_t(struct timespec64)’ {aka ‘long long int(struct timespec64)’}
   69 | static inline ktime_t timespec64_to_ktime(struct timespec64 ts)
      |                       ^~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:21:8: error: redefinition of ‘struct wait_bit_queue_entry’
   21 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:26:9: warning: ‘___wait_is_interruptible’ redefined
   26 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:59:20: error: conflicting types for ‘clear_and_wake_up_bit’; have ‘void(int,  void *)’
   59 | static inline void clear_and_wake_up_bit(int bit, void *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:550:20: note: previous definition of ‘clear_and_wake_up_bit’ with type ‘void(int,  long unsigned int *)’
  550 | static inline void clear_and_wake_up_bit(int bit, unsigned long *word)
      |                    ^~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:70:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   70 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:75:9: warning: ‘___wait_var_event’ redefined
   75 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:127:9: warning: ‘__wait_var_event_timeout’ redefined
  127 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:132:9: warning: ‘wait_var_event_timeout’ redefined
  132 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:172:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  172 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
cc1: some warnings being treated as errors
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_proto.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds/socklnd] Error 2
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds] Error 2
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet] Error 2
make[5]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/Makefile:2043: .] Error 2
make[4]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/Makefile:260: __sub-make] Error 2
make[3]: *** [Makefile:260: __sub-make] Error 2
make[2]: *** [autoMakefile:1706: modules] Error 2
make[1]: *** [autoMakefile:750: all-recursive] Error 1
make: *** [autoMakefile:600: all] Error 2
