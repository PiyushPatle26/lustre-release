make  all-recursive
make[1]: Entering directory '/home/lustredev/lustre-release'
Making all in .
make[2]: Entering directory '/home/lustredev/lustre-release'
make sources -C lnet/klnds/in-kernel-o2iblnd || exit $?
make[3]: Entering directory '/home/lustredev/lustre-release/lnet/klnds/in-kernel-o2iblnd'
make[3]: Nothing to be done for 'sources'.
make[3]: Leaving directory '/home/lustredev/lustre-release/lnet/klnds/in-kernel-o2iblnd'
echo "Making modules in top-level tree"; \
make   -C /lib/modules/6.15.3-200.fc42.x86_64/build  M=/home/lustredev/lustre-release "CFLAGS_MODULE=-I/home/lustredev/lustre-release/libcfs/include -I/home/lustredev/lustre-release/lnet/include -I/home/lustredev/lustre-release/lustre/include -I/home/lustredev/lustre-release/include" modules
Making modules in top-level tree
make[3]: Entering directory '/usr/src/kernels/6.15.3-200.fc42.x86_64'
make[4]: Entering directory '/home/lustredev/lustre-release'
  CC [M]  lnet/lnet/api-ni.o
  CC [M]  lustre/fid/fid_request.o
  CC [M]  lustre/obdecho/echo_client.o
  CC [M]  lustre/mgc/mgc_request.o
  CC [M]  lustre/obdclass/llog.o
  CC [M]  lnet/selftest/console.o
  CC [M]  lustre/ec/ec_base.o
  CC [M]  lustre/ptlrpc/client.o
  CC [M]  lustre/mdd/mdd_acl.o
  CC [M]  lustre/mdt/mdt_handler.o
  CC [M]  lustre/mgs/mgs_handler.o
  CC [M]  libcfs/libcfs/linux/linux-prim.o
  CC [M]  lustre/ofd/ofd_dev.o
  CC [M]  lustre/quota/lproc_quota.o
  CC [M]  lustre/kunit/kinode.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd.o
  CC [M]  lustre/quota/lquota_lib.o
  CC [M]  lustre/obdecho/debug.o
  CC [M]  lustre/obdclass/llog_cat.o
  CC [M]  lnet/lnet/config.o
  CC [M]  libcfs/libcfs/linux/linux-wait.o
  CC [M]  lnet/selftest/conrpc.o
  CC [M]  libcfs/libcfs/debug.o
  CC [M]  lustre/ptlrpc/recover.o
  CC [M]  lnet/klnds/socklnd/socklnd.o
  CC [M]  lustre/mgs/mgs_fs.o
  CC [M]  lnet/lnet/nidstrings.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.o
  CC [M]  libcfs/libcfs/fail.o
  CC [M]  lnet/klnds/socklnd/socklnd_cb.o
  CC [M]  libcfs/libcfs/module.o
  CC [M]  lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.o
  CC [M]  lnet/klnds/socklnd/socklnd_lib.o
  CC [M]  lnet/klnds/socklnd/socklnd_modparams.o
  CC [M]  lnet/klnds/socklnd/socklnd_proto.o
make[4]: Leaving directory '/home/lustredev/lustre-release'
make[3]: Leaving directory '/usr/src/kernels/6.15.3-200.fc42.x86_64'
make[2]: Leaving directory '/home/lustredev/lustre-release'
make[1]: Leaving directory '/home/lustredev/lustre-release'
 Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/fid] Error 2
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:24,
                 from lustre/quota/lquota_internal.h:8,
                 from lustre/quota/lquota_lib.c:19:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/quota/lquota_lib.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/ofd/ofd_dev.c:51:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lustre/include/llog_swab.h:32,
                 from lustre/obdclass/llog.c:28:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdclass/llog.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:29,
                 from lustre/mgc/mgc_request.c:22:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lustre/mgc/mgc_request.c:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
lustre/kunit/kinode.c:29:10: fatal error: config.h: No such file or directory
   29 | #include <config.h>
      |          ^~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/kunit/kinode.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/kunit] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:25:10: warning: ‘topology_sibling_cpumask’ redefined
   25 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from lnet/selftest/console.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from lustre/obdecho/echo_client.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/user_namespace.h:13,
                 from lustre/obdecho/echo_client.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/dt_object.h:28,
                 from lustre/mdt/mdt_handler.c:29:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lustre/mdt/mdt_handler.c:26:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/mgs/mgs_handler.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:31:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   31 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/obd.h:24,
                 from lustre/obdecho/echo_client.c:20:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h: At top level:
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgc/mgc_request.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mgc] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdecho/echo_client.o] Error 1
make[8]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:37:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   37 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from lustre/ec/ec_base.c:33:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:25:10: warning: ‘topology_sibling_cpumask’ redefined
   25 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:25:10: warning: ‘topology_sibling_cpumask’ redefined
   25 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ofd/ofd_dev.o] Error 1
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:31:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   31 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ofd] Error 2
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ec/ec_base.o] Error 1
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:31:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   31 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ec] Error 2
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:37:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   37 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:37:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   37 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:29,
                 from lustre/quota/lproc_quota.c:16:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:21:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mdt/mdt_handler.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mdt] Error 2
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgs/mgs_handler.o] Error 1
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/quota/lproc_quota.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/quota] Error 2
In file included from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:31,
                 from libcfs/libcfs/linux/linux-prim.c:31:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from libcfs/libcfs/linux/linux-prim.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/include/lustre_compat/linux/shrinker.h:9,
                 from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from lnet/lnet/api-ni.c:24:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:13:27: error: conflicting types for ‘netdev_cmd_to_name’; have ‘const char *(long unsigned int)’
   13 | static inline const char *netdev_cmd_to_name(unsigned long cmd)
      |                           ^~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:6:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:3150:13: note: previous declaration of ‘netdev_cmd_to_name’ with type ‘const char *(enum netdev_cmd)’
 3150 | const char *netdev_cmd_to_name(enum netdev_cmd cmd);
      |             ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:64:8: error: redefinition of ‘struct netlink_ext_ack’
   64 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/netlink.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:6,
                 from lnet/lnet/api-ni.c:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:82:8: note: originally defined here
   82 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:72:9: warning: ‘NL_SET_BAD_ATTR’ redefined
   72 | #define NL_SET_BAD_ATTR(extack, attr)
      |         ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:150:9: note: this is the location of the previous definition
  150 | #define NL_SET_BAD_ATTR(extack, attr) NL_SET_BAD_ATTR_POLICY(extack, attr, NULL)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:78:9: warning: ‘GENL_SET_ERR_MSG’ redefined
   78 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG(NULL, msg)
      |         ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:161:9: note: this is the location of the previous definition
  161 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG((info)->extack, msg)
      |         ^~~~~~~~~~~~~~~~
In file included from libcfs/libcfs/linux/linux-wait.c:11:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:62:33: error: field ‘key’ has incomplete type
   62 |         struct wait_bit_key     key;
      |                                 ^~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27,
                 from lnet/selftest/console.c:19:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25,
                 from /home/lustredev/lustre-release/lustre/include/lustre_compat.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:25:10: warning: ‘topology_sibling_cpumask’ redefined
   25 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/selftest/console.o] Error 1
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from /home/lustredev/lustre-release/lnet/include/lnet/udsp.h:18,
                 from lnet/lnet/api-ni.c:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/net.h:23,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:5:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/uaccess.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uaccess.h:12,
                 from lnet/lnet/api-ni.c:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lustre/ptlrpc/client.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bvec.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:43,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:38,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysctl.h:27,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/net_namespace.h:12:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/build_bug.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/current.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:12,
                 from libcfs/libcfs/linux/linux-wait.c:7:
libcfs/libcfs/linux/linux-wait.c: In function ‘prepare_to_wait_event’:
libcfs/libcfs/linux/linux-wait.c:22:22: error: implicit declaration of function ‘signal_pending_state’ [-Wimplicit-function-declaration]
   22 |         if (unlikely(signal_pending_state(state, current))) {
      |                      ^~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compiler.h:77:45: note: in definition of macro ‘unlikely’
   77 | # define unlikely(x)    __builtin_expect(!!(x), 0)
      |                                             ^
libcfs/libcfs/linux/linux-wait.c:35:40: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   35 |                 list_del_init(&wq_entry->task_list);
      |                                        ^~
libcfs/libcfs/linux/linux-wait.c:38:41: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   38 |                 if (list_empty(&wq_entry->task_list)) {
      |                                         ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/api-ni.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** Waiting for unfinished jobs....
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ptlrpc/client.o] Error 1
make[8]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:31:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   31 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:17:37: error: implicit declaration of function ‘__add_wait_queue_tail’; did you mean ‘__add_wait_queue’? [-Wimplicit-function-declaration]
   17 | #define __add_wait_queue_entry_tail __add_wait_queue_tail
      |                                     ^~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c:40:33: note: in expansion of macro ‘__add_wait_queue_entry_tail’
   40 |                                 __add_wait_queue_entry_tail(wq_head, wq_entry);
      |                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/linux/linux-wait.c: In function ‘__var_waitqueue’:
libcfs/libcfs/linux/linux-wait.c:62:33: error: implicit declaration of function ‘hash_ptr’; did you mean ‘si_ptr’? [-Wimplicit-function-declaration]
   62 |         return bit_wait_table + hash_ptr(p, WAIT_TABLE_BITS);
      |                                 ^~~~~~~~
      |                                 si_ptr
libcfs/libcfs/linux/linux-wait.c: In function ‘var_wake_function’:
libcfs/libcfs/linux/linux-wait.c:74:40: error: invalid use of undefined type ‘struct wait_bit_key’
   74 |         if (wbq_entry->key.flags != key->flags ||
      |                                        ^~
libcfs/libcfs/linux/linux-wait.c:75:41: error: invalid use of undefined type ‘struct wait_bit_key’
   75 |             wbq_entry->key.bit_nr != key->bit_nr)
      |                                         ^~
libcfs/libcfs/linux/linux-wait.c: In function ‘init_wait_var_entry’:
libcfs/libcfs/linux/linux-wait.c:95:26: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                          ^~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/random.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/nodemask.h:97,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/numa.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/cpumask.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/paravirt.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid/api.h:57,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/cpuid.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/processor.h:19,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sched.h:13:
libcfs/libcfs/linux/linux-wait.c:95:72: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                                                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:34: note: in definition of macro ‘LIST_HEAD_INIT’
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                  ^~~~
libcfs/libcfs/linux/linux-wait.c:95:72: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
   95 |                         .task_list = LIST_HEAD_INIT(wbq_entry->wq_entry.task_list),
      |                                                                        ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list.h:23:43: note: in definition of macro ‘LIST_HEAD_INIT’
   23 | #define LIST_HEAD_INIT(name) { &(name), &(name) }
      |                                           ^~~~
libcfs/libcfs/linux/linux-wait.c: In function ‘wake_up_var’:
libcfs/libcfs/linux/linux-wait.c:104:9: error: implicit declaration of function ‘__wake_up_bit’; did you mean ‘__wake_up_sync’? [-Wimplicit-function-declaration]
  104 |         __wake_up_bit(__var_waitqueue(var), var, -1);
      |         ^~~~~~~~~~~~~
      |         __wake_up_sync
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/linux/linux-wait.o] Error 1
make[8]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:37:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   37 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/proc_fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:48:18: error: redefinition of ‘struct file_operations’
   48 | #define proc_ops file_operations
      |                  ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/proc_fs.h:32:8: note: in expansion of macro ‘proc_ops’
   32 | struct proc_ops {
      |        ^~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:2129:8: note: originally defined here
 2129 | struct file_operations {
      |        ^~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/linux/linux-prim.o] Error 1
In file included from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:13:27: error: conflicting types for ‘netdev_cmd_to_name’; have ‘const char *(long unsigned int)’
   13 | static inline const char *netdev_cmd_to_name(unsigned long cmd)
      |                           ^~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/inetdevice.h:10,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netdevice.h:3150:13: note: previous declaration of ‘netdev_cmd_to_name’ with type ‘const char *(enum netdev_cmd)’
 3150 | const char *netdev_cmd_to_name(enum netdev_cmd cmd);
      |             ^~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:64:8: error: redefinition of ‘struct netlink_ext_ack’
   64 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:19,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:13:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:82:8: note: originally defined here
   82 | struct netlink_ext_ack {
      |        ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:72:9: warning: ‘NL_SET_BAD_ATTR’ redefined
   72 | #define NL_SET_BAD_ATTR(extack, attr)
      |         ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/netlink.h:150:9: note: this is the location of the previous definition
  150 | #define NL_SET_BAD_ATTR(extack, attr) NL_SET_BAD_ATTR_POLICY(extack, attr, NULL)
      |         ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:78:9: warning: ‘GENL_SET_ERR_MSG’ redefined
   78 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG(NULL, msg)
      |         ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-net.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/genetlink.h:161:9: note: this is the location of the previous definition
  161 | #define GENL_SET_ERR_MSG(info, msg) NL_SET_ERR_MSG((info)->extack, msg)
      |         ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from lustre/obdecho/debug.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:25:10: warning: ‘topology_sibling_cpumask’ redefined
   25 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/list_lru.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:31:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   31 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd.o] Error 1
make[9]: *** Waiting for unfinished jobs....
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:37:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   37 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from lnet/selftest/conrpc.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdecho/debug.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/obdecho] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:24,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:20,
                 from lustre/obdclass/llog_cat.c:27:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from lustre/ptlrpc/recover.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/xarray.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/radix-tree.h:21,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/idr.h:15,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kernfs.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sysfs.h:16,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kobject.h:20,
                 from /home/lustredev/lustre-release/lustre/include/obd_class.h:19:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from libcfs/libcfs/tracefile.h:17,
                 from libcfs/libcfs/debug.c:28:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from libcfs/libcfs/debug.c:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25,
                 from lustre/ptlrpc/recover.c:19:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:25:10: warning: ‘topology_sibling_cpumask’ redefined
   25 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:75,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:25:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:25:10: warning: ‘topology_sibling_cpumask’ redefined
   25 | # define topology_sibling_cpumask(cpu)  topology_thread_cpumask(cpu)
      |          ^~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c: At top level:
libcfs/libcfs/debug.c:68:10: error: ‘const struct kernel_param’ has no member named ‘set’
   68 |         .set = libcfs_param_debug_mb_set,
      |          ^~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/topology.h:36,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:8:
/usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/topology.h:196:9: note: this is the location of the previous definition
  196 | #define topology_sibling_cpumask(cpu)           (per_cpu(cpu_sibling_map, cpu))
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:68:16: error: initialization of ‘const char *’ from incompatible pointer type ‘int (*)(const char *, struct kernel_param *)’ [-Wincompatible-pointer-types]
   68 |         .set = libcfs_param_debug_mb_set,
      |                ^~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:68:16: note: (near initialization for ‘param_ops_debug_mb.name’)
libcfs/libcfs/debug.c:42:12: note: ‘libcfs_param_debug_mb_set’ declared here
   42 | static int libcfs_param_debug_mb_set(const char *val,
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:69:10: error: ‘const struct kernel_param’ has no member named ‘get’
   69 |         .get = param_get_uint,
      |          ^~~
libcfs/libcfs/debug.c:69:16: error: initialization of ‘struct module *’ from incompatible pointer type ‘int (*)(char *, const struct kernel_param *)’ [-Wincompatible-pointer-types]
   69 |         .get = param_get_uint,
      |                ^~~~~~~~~~~~~~
libcfs/libcfs/debug.c:69:16: note: (near initialization for ‘param_ops_debug_mb.mod’)
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:22:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:437:12: note: ‘param_get_uint’ declared here
  437 | extern int param_get_uint(char *buffer, const struct kernel_param *kp);
      |            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:32: error: ‘const struct kernel_param’ has no member named ‘set’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                ^~~
libcfs/libcfs/debug.c:79:1: note: in expansion of macro ‘module_param_call’
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:45: error: ‘const struct kernel_param’ has no member named ‘get’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                             ^~~
libcfs/libcfs/debug.c:79:1: note: in expansion of macro ‘module_param_call’
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:79:63: warning: excess elements in struct initializer
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      |                                                               ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
libcfs/libcfs/debug.c:79:63: note: (near initialization for ‘__param_ops_libcfs_debug_mb’)
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      |                                                               ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:17: warning: missing braces around initializer [-Wmissing-braces]
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                 ^
libcfs/libcfs/debug.c:79:1: note: in expansion of macro ‘module_param_call’
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: error: initialization of ‘const struct kernel_param_ops *’ from incompatible pointer type ‘const struct kernel_param *’ [-Wincompatible-pointer-types]
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:79:1: note: in expansion of macro ‘module_param_call’
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: note: (near initialization for ‘__param_libcfs_debug_mb.ops’)
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:79:1: note: in expansion of macro ‘module_param_call’
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:80:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
   80 |                   &param_ops_debug_mb, 0644);
      |                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:294:61: note: in definition of macro ‘__module_param_call’
  294 |             VERIFY_OCTAL_PERMISSIONS(perm), level, flags, { arg } }
      |                                                             ^~~
libcfs/libcfs/debug.c:79:1: note: in expansion of macro ‘module_param_call’
   79 | module_param_call(libcfs_debug_mb, libcfs_param_debug_mb_set, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:138:10: error: ‘const struct kernel_param’ has no member named ‘set’
  138 |         .set = param_set_console_max_delay,
      |          ^~~
libcfs/libcfs/debug.c:138:16: error: initialization of ‘const char *’ from incompatible pointer type ‘int (*)(const char *, struct kernel_param *)’ [-Wincompatible-pointer-types]
  138 |         .set = param_set_console_max_delay,
      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:138:16: note: (near initialization for ‘param_ops_console_max_delay.name’)
libcfs/libcfs/debug.c:130:12: note: ‘param_set_console_max_delay’ declared here
  130 | static int param_set_console_max_delay(const char *val,
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:139:10: error: ‘const struct kernel_param’ has no member named ‘get’
  139 |         .get = param_get_delay,
      |          ^~~
libcfs/libcfs/debug.c:139:16: error: initialization of ‘struct module *’ from incompatible pointer type ‘int (*)(char *, struct kernel_param *)’ [-Wincompatible-pointer-types]
  139 |         .get = param_get_delay,
      |                ^~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:139:16: note: (near initialization for ‘param_ops_console_max_delay.mod’)
libcfs/libcfs/debug.c:118:12: note: ‘param_get_delay’ declared here
  118 | static int param_get_delay(char *buffer, cfs_kernel_param_arg_t *kp)
      |            ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:32: error: ‘const struct kernel_param’ has no member named ‘set’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                ^~~
libcfs/libcfs/debug.c:148:1: note: in expansion of macro ‘module_param_call’
  148 | module_param_call(libcfs_console_max_delay, param_set_console_max_delay,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:45: error: ‘const struct kernel_param’ has no member named ‘get’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                             ^~~
libcfs/libcfs/debug.c:148:1: note: in expansion of macro ‘module_param_call’
  148 | module_param_call(libcfs_console_max_delay, param_set_console_max_delay,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:149:19: warning: excess elements in struct initializer
  149 |                   param_get_delay, &param_ops_console_max_delay, 0644);
      |                   ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
libcfs/libcfs/debug.c:149:19: note: (near initialization for ‘__param_ops_libcfs_console_max_delay’)
  149 |                   param_get_delay, &param_ops_console_max_delay, 0644);
      |                   ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:17: warning: missing braces around initializer [-Wmissing-braces]
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                 ^
libcfs/libcfs/debug.c:148:1: note: in expansion of macro ‘module_param_call’
  148 | module_param_call(libcfs_console_max_delay, param_set_console_max_delay,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: error: initialization of ‘const struct kernel_param_ops *’ from incompatible pointer type ‘const struct kernel_param *’ [-Wincompatible-pointer-types]
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:148:1: note: in expansion of macro ‘module_param_call’
  148 | module_param_call(libcfs_console_max_delay, param_set_console_max_delay,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: note: (near initialization for ‘__param_libcfs_console_max_delay.ops’)
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:148:1: note: in expansion of macro ‘module_param_call’
  148 | module_param_call(libcfs_console_max_delay, param_set_console_max_delay,
      | ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:31:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   31 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
libcfs/libcfs/debug.c:149:36: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  149 |                   param_get_delay, &param_ops_console_max_delay, 0644);
      |                                    ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:294:61: note: in definition of macro ‘__module_param_call’
  294 |             VERIFY_OCTAL_PERMISSIONS(perm), level, flags, { arg } }
      |                                                             ^~~
libcfs/libcfs/debug.c:148:1: note: in expansion of macro ‘module_param_call’
  148 | module_param_call(libcfs_console_max_delay, param_set_console_max_delay,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:161:10: error: ‘const struct kernel_param’ has no member named ‘set’
  161 |         .set = param_set_console_min_delay,
      |          ^~~
libcfs/libcfs/debug.c:161:16: error: initialization of ‘const char *’ from incompatible pointer type ‘int (*)(const char *, struct kernel_param *)’ [-Wincompatible-pointer-types]
  161 |         .set = param_set_console_min_delay,
      |                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:161:16: note: (near initialization for ‘param_ops_console_min_delay.name’)
libcfs/libcfs/debug.c:153:12: note: ‘param_set_console_min_delay’ declared here
  153 | static int param_set_console_min_delay(const char *val,
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:162:10: error: ‘const struct kernel_param’ has no member named ‘get’
  162 |         .get = param_get_delay,
      |          ^~~
libcfs/libcfs/debug.c:162:16: error: initialization of ‘struct module *’ from incompatible pointer type ‘int (*)(char *, struct kernel_param *)’ [-Wincompatible-pointer-types]
  162 |         .get = param_get_delay,
      |                ^~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:162:16: note: (near initialization for ‘param_ops_console_min_delay.mod’)
libcfs/libcfs/debug.c:118:12: note: ‘param_get_delay’ declared here
  118 | static int param_get_delay(char *buffer, cfs_kernel_param_arg_t *kp)
      |            ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:32: error: ‘const struct kernel_param’ has no member named ‘set’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                ^~~
libcfs/libcfs/debug.c:171:1: note: in expansion of macro ‘module_param_call’
  171 | module_param_call(libcfs_console_min_delay, param_set_console_min_delay,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:45: error: ‘const struct kernel_param’ has no member named ‘get’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                             ^~~
libcfs/libcfs/debug.c:171:1: note: in expansion of macro ‘module_param_call’
  171 | module_param_call(libcfs_console_min_delay, param_set_console_min_delay,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:172:19: warning: excess elements in struct initializer
  172 |                   param_get_delay, &param_ops_console_min_delay, 0644);
      |                   ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
libcfs/libcfs/debug.c:172:19: note: (near initialization for ‘__param_ops_libcfs_console_min_delay’)
  172 |                   param_get_delay, &param_ops_console_min_delay, 0644);
      |                   ^~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:17: warning: missing braces around initializer [-Wmissing-braces]
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                 ^
libcfs/libcfs/debug.c:171:1: note: in expansion of macro ‘module_param_call’
  171 | module_param_call(libcfs_console_min_delay, param_set_console_min_delay,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: error: initialization of ‘const struct kernel_param_ops *’ from incompatible pointer type ‘const struct kernel_param *’ [-Wincompatible-pointer-types]
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:171:1: note: in expansion of macro ‘module_param_call’
  171 | module_param_call(libcfs_console_min_delay, param_set_console_min_delay,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: note: (near initialization for ‘__param_libcfs_console_min_delay.ops’)
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:171:1: note: in expansion of macro ‘module_param_call’
  171 | module_param_call(libcfs_console_min_delay, param_set_console_min_delay,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:172:36: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  172 |                   param_get_delay, &param_ops_console_min_delay, 0644);
      |                                    ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:294:61: note: in definition of macro ‘__module_param_call’
  294 |             VERIFY_OCTAL_PERMISSIONS(perm), level, flags, { arg } }
      |                                                             ^~~
libcfs/libcfs/debug.c:171:1: note: in expansion of macro ‘module_param_call’
  171 | module_param_call(libcfs_console_min_delay, param_set_console_min_delay,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:177:12: error: conflicting types for ‘param_set_uint_minmax’; have ‘int(const char *, struct kernel_param *, unsigned int,  unsigned int)’
  177 | static int param_set_uint_minmax(const char *val,
      |            ^~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:438:5: note: previous declaration of ‘param_set_uint_minmax’ with type ‘int(const char *, const struct kernel_param *, unsigned int,  unsigned int)’
  438 | int param_set_uint_minmax(const char *val, const struct kernel_param *kp,
      |     ^~~~~~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:203:10: error: ‘const struct kernel_param’ has no member named ‘set’
  203 |         .set = param_set_uintpos,
      |          ^~~
libcfs/libcfs/debug.c:203:16: error: initialization of ‘const char *’ from incompatible pointer type ‘int (*)(const char *, struct kernel_param *)’ [-Wincompatible-pointer-types]
  203 |         .set = param_set_uintpos,
      |                ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:203:16: note: (near initialization for ‘param_ops_uintpos.name’)
libcfs/libcfs/debug.c:196:12: note: ‘param_set_uintpos’ declared here
  196 | static int param_set_uintpos(const char *val,
      |            ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:204:10: error: ‘const struct kernel_param’ has no member named ‘get’
  204 |         .get = param_get_uint,
      |          ^~~
libcfs/libcfs/debug.c:204:16: error: initialization of ‘struct module *’ from incompatible pointer type ‘int (*)(char *, const struct kernel_param *)’ [-Wincompatible-pointer-types]
  204 |         .get = param_get_uint,
      |                ^~~~~~~~~~~~~~
libcfs/libcfs/debug.c:204:16: note: (near initialization for ‘param_ops_uintpos.mod’)
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:437:12: note: ‘param_get_uint’ declared here
  437 | extern int param_get_uint(char *buffer, const struct kernel_param *kp);
      |            ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:32: error: ‘const struct kernel_param’ has no member named ‘set’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                ^~~
libcfs/libcfs/debug.c:214:1: note: in expansion of macro ‘module_param_call’
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:45: error: ‘const struct kernel_param’ has no member named ‘get’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                             ^~~
libcfs/libcfs/debug.c:214:1: note: in expansion of macro ‘module_param_call’
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:214:62: warning: excess elements in struct initializer
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      |                                                              ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
libcfs/libcfs/debug.c:214:62: note: (near initialization for ‘__param_ops_libcfs_console_backoff’)
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      |                                                              ^~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:51: note: in definition of macro ‘module_param_call’
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                                                   ^~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:303:17: warning: missing braces around initializer [-Wmissing-braces]
  303 |                 { .flags = 0, .set = _set, .get = _get };               \
      |                 ^
libcfs/libcfs/debug.c:214:1: note: in expansion of macro ‘module_param_call’
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: error: initialization of ‘const struct kernel_param_ops *’ from incompatible pointer type ‘const struct kernel_param *’ [-Wincompatible-pointer-types]
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:214:1: note: in expansion of macro ‘module_param_call’
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:305:35: note: (near initialization for ‘__param_libcfs_console_backoff.ops’)
  305 |                             name, &__param_ops_##name, arg, perm, -1, 0)
      |                                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:293:46: note: in definition of macro ‘__module_param_call’
  293 |         = { __param_str_##name, THIS_MODULE, ops,                       \
      |                                              ^~~
libcfs/libcfs/debug.c:214:1: note: in expansion of macro ‘module_param_call’
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
libcfs/libcfs/debug.c:215:19: warning: initialization discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  215 |                   &param_ops_uintpos, 0644);
      |                   ^
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/moduleparam.h:294:61: note: in definition of macro ‘__module_param_call’
  294 |             VERIFY_OCTAL_PERMISSIONS(perm), level, flags, { arg } }
      |                                                             ^~~
libcfs/libcfs/debug.c:214:1: note: in expansion of macro ‘module_param_call’
  214 | module_param_call(libcfs_console_backoff, param_set_uintpos, param_get_uint,
      | ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:37:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   37 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h: In function ‘cfs_cpt_bind_workqueue’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:31:33: error: implicit declaration of function ‘get_online_cpus’; did you mean ‘get_online_mems’? [-Wimplicit-function-declaration]
   31 | # define cpus_read_lock         get_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:337:17: note: in expansion of macro ‘cpus_read_lock’
  337 |                 cpus_read_lock();
      |                 ^~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-cpu.h:37:33: error: implicit declaration of function ‘put_online_cpus’; did you mean ‘num_online_cpus’? [-Wimplicit-function-declaration]
   37 | # define cpus_read_unlock       put_online_cpus
      |                                 ^~~~~~~~~~~~~~~
/home/lustredev/lustre-release/lnet/include/lnet/lib-cpt.h:339:17: note: in expansion of macro ‘cpus_read_unlock’
  339 |                 cpus_read_unlock();
      |                 ^~~~~~~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/ptlrpc/recover.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/ptlrpc] Error 2
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:30,
                 from /home/lustredev/lustre-release/lustre/include/obd_support.h:26:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-fs.h:28:30: error: redefinition of ‘file_dentry’
   28 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:1185:30: note: previous definition of ‘file_dentry’ with type ‘struct dentry *(const struct file *)’
 1185 | static inline struct dentry *file_dentry(const struct file *file)
      |                              ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lprocfs_status.h:31:
/home/lustredev/lustre-release/lustre/include/uapi/linux/lustre/lustre_idl.h:52:10: fatal error: linux/lnet/nidstr.h: No such file or directory
   52 | #include <linux/lnet/nidstr.h>
      |          ^~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/obdclass/llog_cat.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/obdclass] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/lnet/config.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17,
                 from lnet/lnet/config.c:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
libcfs/libcfs/debug.c: In function ‘libcfs_register_panic_notifier’:
libcfs/libcfs/debug.c:722:41: error: ‘panic_notifier_list’ undeclared (first use in this function); did you mean ‘panic_notifier’?
  722 |         atomic_notifier_chain_register(&panic_notifier_list,
      |                                         ^~~~~~~~~~~~~~~~~~~
      |                                         panic_notifier
libcfs/libcfs/debug.c:722:41: note: each undeclared identifier is reported only once for each function it appears in
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27,
                 from lnet/selftest/conrpc.c:19:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/config.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/selftest/conrpc.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/selftest] Error 2
make[7]: *** Waiting for unfinished jobs....
libcfs/libcfs/debug.c: In function ‘libcfs_unregister_panic_notifier’:
libcfs/libcfs/debug.c:728:43: error: ‘panic_notifier_list’ undeclared (first use in this function); did you mean ‘panic_notifier’?
  728 |         atomic_notifier_chain_unregister(&panic_notifier_list,
      |                                           ^~~~~~~~~~~~~~~~~~~
      |                                           panic_notifier
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/debug.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lustre/include/lustre_fid.h:131,
                 from lustre/mgs/mgs_fs.c:21:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:18:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lustre/include/lustre_fid.h:132:
/home/lustredev/lustre-release/lustre/include/lu_object.h: At top level:
/home/lustredev/lustre-release/lustre/include/lu_object.h:20:10: fatal error: stdarg.h: No such file or directory
   20 | #include <stdarg.h>
      |          ^~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lustre/mgs/mgs_fs.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre/mgs] Error 2
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lustre] Error 2
make[6]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from libcfs/libcfs/fail.c:18:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from libcfs/libcfs/fail.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/slab.h:16,
                 from libcfs/libcfs/fail.c:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/fail.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from libcfs/libcfs/module.c:35:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from libcfs/libcfs/module.c:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27,
                 from libcfs/libcfs/module.c:36:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: libcfs/libcfs/module.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: libcfs/libcfs] Error 2
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: libcfs] Error 2
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from lnet/lnet/nidstrings.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/highmem.h:5,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/bvec.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/skbuff.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/tcp.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ipv6.h:102,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/net/ipv6.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sunrpc/addr.h:14,
                 from lnet/lnet/nidstrings.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/sunrpc/addr.h:11:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.c:14:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from lnet/lnet/nidstrings.c:18:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/nidstr.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/nidstr.h:15:10: fatal error: linux/lnet/lnet-types.h: No such file or directory
   15 | #include <linux/lnet/lnet-types.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/lnet/nidstrings.o] Error 1
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/lnet] Error 2
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd_modparams.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:77,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.c:14:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/ia32.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/arch/x86/include/asm/elf.h:10,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/elf.h:6,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:19,
                 from lnet/klnds/in-kernel-o2iblnd/o2iblnd.h:14:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/umh.h:4,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/kmod.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/module.h:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/in-kernel-o2iblnd/o2iblnd_cb.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds/in-kernel-o2iblnd] Error 2
make[8]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd.c:22:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:17,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/ethtool.h:17,
                 from lnet/klnds/socklnd/socklnd.c:17:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/compat.h:15:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_cb.c:17:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from /home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-mem.h:19,
                 from lnet/klnds/socklnd/socklnd_cb.c:16:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mmzone.h:11,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/gfp.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:7:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd.o] Error 1
make[9]: *** Waiting for unfinished jobs....
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_cb.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_lib.c:11:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_modparams.c:13:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_lib.o] Error 1
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_modparams.o] Error 1
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:26,
                 from lnet/klnds/socklnd/socklnd.h:44,
                 from lnet/klnds/socklnd/socklnd_proto.c:16:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:61:8: error: redefinition of ‘struct wait_bit_queue_entry’
   61 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/fs.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/huge_mm.h:7,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm.h:1238,
                 from lnet/klnds/socklnd/socklnd.h:30:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:16:8: note: originally defined here
   16 | struct wait_bit_queue_entry {
      |        ^~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:66:9: warning: ‘___wait_is_interruptible’ redefined
   66 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/swait.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/completion.h:12,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/mm_types.h:14,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/uio.h:9,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/socket.h:8,
                 from /usr/src/kernels/6.15.3-200.fc42.x86_64/include/uapi/linux/if.h:25,
                 from lnet/klnds/socklnd/socklnd.h:24:
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait.h:282:9: note: this is the location of the previous definition
  282 | #define ___wait_is_interruptible(state)                                         \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:91:13: error: conflicting types for ‘init_wait_var_entry’; have ‘void(struct wait_bit_queue_entry *, void *, int)’
   91 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry,
      |             ^~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:249:13: note: previous declaration of ‘init_wait_var_entry’ with type ‘void(struct wait_bit_queue_entry *, void *, int)’
  249 | extern void init_wait_var_entry(struct wait_bit_queue_entry *wbq_entry, void *var, int flags);
      |             ^~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:96:9: warning: ‘___wait_var_event’ redefined
   96 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:253:9: note: this is the location of the previous definition
  253 | #define ___wait_var_event(var, condition, state, exclusive, ret, cmd)   \
      |         ^~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:148:9: warning: ‘__wait_var_event_timeout’ redefined
  148 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:370:9: note: this is the location of the previous definition
  370 | #define __wait_var_event_timeout(var, condition, timeout)               \
      |         ^~~~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:153:9: warning: ‘wait_var_event_timeout’ redefined
  153 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/usr/src/kernels/6.15.3-200.fc42.x86_64/include/linux/wait_bit.h:395:9: note: this is the location of the previous definition
  395 | #define wait_var_event_timeout(var, condition, timeout)                 \
      |         ^~~~~~~~~~~~~~~~~~~~~~
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h: In function ‘prepare_to_wait_exclusive_head’:
/home/lustredev/lustre-release/libcfs/include/libcfs/linux/linux-wait.h:193:29: error: ‘wait_queue_entry_t’ {aka ‘struct wait_queue_entry’} has no member named ‘task_list’
  193 |         if (list_empty(&link->task_list))
      |                             ^~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:32:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h: At top level:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_debug.h:166:4: warning: #warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!" [-Wcpp]
  166 | #  warning "CDEBUG IS DISABLED. THIS SHOULD NEVER BE DONE FOR PRODUCTION!"
      |    ^~~~~~~
In file included from /home/lustredev/lustre-release/libcfs/include/libcfs/libcfs.h:34:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h: In function ‘cfs_fail_check_set_loc’:
/home/lustredev/lustre-release/libcfs/include/libcfs/libcfs_fail.h:82:31: warning: unused variable ‘failed_once’ [-Wunused-variable]
   82 |                 unsigned long failed_once = cfs_fail_loc & CFS_FAILED;
      |                               ^~~~~~~~~~~
In file included from /home/lustredev/lustre-release/lnet/include/lnet/api.h:28,
                 from /home/lustredev/lustre-release/lnet/include/lnet/lib-lnet.h:27:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h: At top level:
/home/lustredev/lustre-release/lnet/include/uapi/linux/lnet/lnet-types.h:24:10: fatal error: linux/lnet/lnet-idl.h: No such file or directory
   24 | #include <linux/lnet/lnet-idl.h>
      |          ^~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[9]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:203: lnet/klnds/socklnd/socklnd_proto.o] Error 1
make[8]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds/socklnd] Error 2
make[7]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet/klnds] Error 2
make[6]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/scripts/Makefile.build:461: lnet] Error 2
make[5]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/Makefile:2043: .] Error 2
make[4]: *** [/usr/src/kernels/6.15.3-200.fc42.x86_64/Makefile:260: __sub-make] Error 2
make[3]: *** [Makefile:260: __sub-make] Error 2
make[2]: *** [autoMakefile:1706: modules] Error 2
make[1]: *** [autoMakefile:750: all-recursive] Error 1
make: *** [autoMakefile:600: all] Error 2
